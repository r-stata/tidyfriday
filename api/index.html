<!DOCTYPE html>
<html lang="zh-cn">
<head prefix="og: http://ogp.me/ns#">
  <meta charset="utf-8">
  <title>API | 微信公众号 RStata</title>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Canonical links -->
  <link rel="canonical" href="https://tidyfriday.cn/api/index.html">
  <!-- Alternative links -->
  
    
      <link rel="alternative" hreflang="en" href="https://tidyfriday.cn/api/">
    
      <link rel="alternative" hreflang="zh-tw" href="https://tidyfriday.cn/api/">
    
      <link rel="alternative" hreflang="zh-cn" href="https://tidyfriday.cn/api/">
    
      <link rel="alternative" hreflang="ru" href="https://tidyfriday.cn/api/">
    
      <link rel="alternative" hreflang="ko" href="https://tidyfriday.cn/api/">
    
      <link rel="alternative" hreflang="pt-br" href="https://tidyfriday.cn/api/">
    
      <link rel="alternative" hreflang="th" href="https://tidyfriday.cn/api/">
    
  
  <!-- Icon -->
  <link rel="icon" href="/images/pad.svg">
  <meta name="msapplication-TileColor" content="#2f83cd">
  <meta name="msapplication-TileImage" content="/images/pad.svg">
  <!-- CSS -->
  <!-- build:css build/css/navy.css -->
  
<link rel="stylesheet" href="/css/navy.css">

  <!-- endbuild -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-lato@0.0.75/index.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.3.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css">
  <!-- RSS -->
  <link rel="alternate" href="/atom.xml" title="微信公众号 RStata" type="application/atom+xml">
  <!-- Open Graph -->
  <meta name="description" content="This documentation provides more detailed information about the API and will be particularly helpful for people who want to modify the Hexo source code or write new plugins. If you are interested in m">
<meta property="og:type" content="website">
<meta property="og:title" content="API">
<meta property="og:url" content="https://tidyfriday.cn/api/">
<meta property="og:site_name" content="微信公众号 RStata">
<meta property="og:description" content="This documentation provides more detailed information about the API and will be particularly helpful for people who want to modify the Hexo source code or write new plugins. If you are interested in m">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2024-08-07T10:04:59.457Z">
<meta property="article:modified_time" content="2022-09-23T14:59:38.000Z">
<meta property="article:author" content="RStata">
<meta name="twitter:card" content="summary">
  <!-- Google Analytics -->
  
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <header id="header" class="wrapper">
  <div id="header-inner" class="inner">
    <h1 id="logo-wrap">
      <a id="logo" href="/">RStata</a>
    </h1>
    <nav id="main-nav">
      <a href="/archives/" class="main-nav-link">归档</a><a href="/r-gallery/" class="main-nav-link">R 语言绘图案例</a><a href="/stata-gallery/" class="main-nav-link">Stata 绘图案例</a><a href="/rsdb2/" class="main-nav-link">RStata课程与数据库</a><a href="/templates/" class="main-nav-link">模板库</a><a href="/books/" class="main-nav-link">电子书</a><a href="/about/" class="main-nav-link">关于</a>
      <div id="search-input-wrap">
        <div id="search-input-icon">
          <i class="fa fa-search"></i>
        </div>
        <input type="search" id="search-input" placeholder="Search...">
      </div>
    </nav>
    <div>
      <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/r-stata" class="main-nav-link"><i class="fa fa-github-alt"></i></a>
    </div>
    <a id="mobile-nav-toggle">
      <span class="mobile-nav-toggle-bar"></span>
      <span class="mobile-nav-toggle-bar"></span>
      <span class="mobile-nav-toggle-bar"></span>
    </a>
  </div>
</header>

    <div id="content-wrap">
  <div id="content" class="wrapper">
    <div id="content-inner">
      <article class="article-container" itemscope itemtype="http://schema.org/Article">
        <div class="article-inner">
          <div class="article">
            <div class="inner">
              <header class="article-header">
                <h1 class="article-title" itemprop="name">API</h1>
              </header>
              <div class="article-content" itemprop="articleBody">
                <p>This documentation provides more detailed information about the API and will be particularly helpful for people who want to modify the Hexo source code or write new plugins. If you are interested in more basic usage of Hexo, please refer to the <a href="../docs">docs</a> instead.</p>
<p>Please note that this documentation is only valid for Hexo 3 and above.</p>
<h2 id="Initialize" class="article-heading"><a href="#Initialize" class="headerlink" title="Initialize"></a>Initialize<a class="article-anchor" href="#Initialize" aria-hidden="true"></a></h2><p>First, we have to create a Hexo instance. A new instance takes two arguments: the root directory of the website, <code>base_dir</code>, and an object containing the initialization options. Next, we initialize this instance by calling the <code>init</code> method on it, which will then cause Hexo to load its configuration and plugins.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Hexo</span> = <span class="built_in">require</span>(<span class="string">&#x27;hexo&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> hexo = <span class="keyword">new</span> <span class="title class_">Hexo</span>(process.<span class="title function_">cwd</span>(), &#123;&#125;);</span><br><span class="line"></span><br><span class="line">hexo.<span class="title function_">init</span>().<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody><tr>
<td><code>debug</code></td>
<td>Enable debug mode. Display debug messages in the terminal and save <code>debug.log</code> in the root directory.</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>safe</code></td>
<td>Enable safe mode. Don’t load any plugins.</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>silent</code></td>
<td>Enable silent mode. Don’t display any messages in the terminal.</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>config</code></td>
<td>Specify the path of the configuration file.</td>
<td><code>_config.yml</code></td>
</tr>
<tr>
<td><code>draft</code> / <code>drafts</code></td>
<td>Enable to add drafts to the posts list.<br> example: when you use <code>hexo.locals.get(&#39;posts&#39;)</code></td>
<td><code>render_drafts</code> of _config.yml</td>
</tr>
</tbody></table>
<h2 id="Load-Files" class="article-heading"><a href="#Load-Files" class="headerlink" title="Load Files"></a>Load Files<a class="article-anchor" href="#Load-Files" aria-hidden="true"></a></h2><p>Hexo provides two methods for loading files: <code>load</code> and <code>watch</code>. <code>load</code> is used for loading all files in the <code>source</code> folder as well as the theme data. <code>watch</code> does the same things <code>load</code> does, but will also start watching for file changes continuously.</p>
<p>Both methods will load the list of files and pass them to the corresponding processors. After all files have been processed, they will call upon the generators to create the routes.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">hexo.<span class="title function_">load</span>().<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">hexo.<span class="title function_">watch</span>().<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="comment">// You can call hexo.unwatch() later to stop watching.</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="Execute-Commands" class="article-heading"><a href="#Execute-Commands" class="headerlink" title="Execute Commands"></a>Execute Commands<a class="article-anchor" href="#Execute-Commands" aria-hidden="true"></a></h2><p>Any console command can be called explicitly using the <code>call</code> method on the Hexo instance. Such a call takes two arguments: the name of the console command, and an options argument. Different options are available for the different console commands.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">hexo.<span class="title function_">call</span>(<span class="string">&#x27;generate&#x27;</span>, &#123;&#125;).<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">hexo.<span class="title function_">call</span>(<span class="string">&#x27;list&#x27;</span>, &#123; <span class="attr">_</span>: [<span class="string">&#x27;post&#x27;</span>] &#125;).<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="Exit" class="article-heading"><a href="#Exit" class="headerlink" title="Exit"></a>Exit<a class="article-anchor" href="#Exit" aria-hidden="true"></a></h2><p>You should call the <code>exit</code> method upon successful or unsuccessful completion of a console command. This allows Hexo to exit gracefully and finish up important things such as saving the database.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">hexo.<span class="title function_">call</span>(<span class="string">&#x27;generate&#x27;</span>).<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> hexo.<span class="title function_">exit</span>();</span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="keyword">function</span>(<span class="params">err</span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> hexo.<span class="title function_">exit</span>(err);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

              </div>
              <footer class="article-footer">
                <time class="article-footer-updated" datetime="2022-09-23T14:59:38.000Z" itemprop="dateModified">上次更新：2022-09-23</time>
                <a href="events.html" class="article-footer-next" title="事件"><span>下一页</span><i class="fa fa-chevron-right"></i></a>
              </footer>
              
<section id="comments">
<div id="valine-thread"></div>
</section>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="//unpkg.com/valine/dist/Valine.min.js"></script>
<script>
    new Valine({
        el: '#valine-thread' ,
        notify: true,
        verify: false,
        app_id: 'HS0fE2GH92TyPjSpxeuEpr9P-gzGzoHsz',
        app_key: 'hyvGUifU6e34ODKmahBUtoN6',
        placeholder: '在这里评论～记得留下邮箱哈，这样有回复的时候会有邮件通知。',
        avatar: 'monsterid',
        avatar_cdn: 'https://gravatar.loli.net/avatar/',
        pageSize: '2'
    });
</script>

            </div>
          </div>
          <aside id="article-toc" role="navigation">
            <div id="article-toc-inner">
              <strong class="sidebar-title">目录</strong>
              <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Initialize"><span class="toc-text">Initialize</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Load-Files"><span class="toc-text">Load Files</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Execute-Commands"><span class="toc-text">Execute Commands</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exit"><span class="toc-text">Exit</span></a></li></ol>
              <a href="#" id="article-toc-top">回到顶部</a>
            </div>
          </aside>
        </div>
      </article>
      <aside id="sidebar" role="navigation">
  <div class="inner">
    <strong class="sidebar-title">核心</strong><a href="index.html" class="sidebar-link current">概述</a><a href="events.html" class="sidebar-link">事件</a><a href="locals.html" class="sidebar-link">本地变量</a><a href="router.html" class="sidebar-link">路由</a><a href="box.html" class="sidebar-link">盒(Box)</a><a href="rendering.html" class="sidebar-link">渲染</a><a href="posts.html" class="sidebar-link">文章</a><a href="scaffolds.html" class="sidebar-link">模版 (Scaffold)</a><a href="themes.html" class="sidebar-link">主题</a><strong class="sidebar-title">扩展</strong><a href="console.html" class="sidebar-link">控制台 (Console)</a><a href="deployer.html" class="sidebar-link">部署器 (Deployer)</a><a href="filter.html" class="sidebar-link">过滤器 (Filter)</a><a href="generator.html" class="sidebar-link">生成器 (Generator)</a><a href="helper.html" class="sidebar-link">辅助函数 (Helper)</a><a href="migrator.html" class="sidebar-link">迁移器 (Migrator)</a><a href="processor.html" class="sidebar-link">处理器 (Processor)</a><a href="renderer.html" class="sidebar-link">渲染引擎 (Renderer)</a><a href="tag.html" class="sidebar-link">标签 (Tag)</a>
  </div>
</aside>
    </div>
  </div>
</div>

    <footer id="footer" class="wrapper">
  <div class="inner">
    <div id="footer-copyright">
      &copy; 2025 <a href="https://github.com/hexojs/hexo/graphs/contributors" rel="external nofollow noreferrer" target="_blank">RStata</a><br>
      Documentation licensed under <a href="http://creativecommons.org/licenses/by/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>.
    </div>
    <div id="footer-links">
      <a href="https://github.com/r-stata" rel="external nofollow noreferrer" class="footer-link" target="_blank"><i class="fa fa-github-alt"></i></a>

      <a href="/wechat" class="footer-link" target="_blank"><i class="fa fa-weixin"></i></a>
    </div>
  </div>
</footer>

  </div>
  <div id="mobile-nav-dimmer"></div>
  <nav id="mobile-nav">
  <div id="mobile-nav-inner">
    <ul id="mobile-nav-list">
      <a href="/archives/" class="mobile-nav-link">归档</a><a href="/r-gallery/" class="mobile-nav-link">R 语言绘图案例</a><a href="/stata-gallery/" class="mobile-nav-link">Stata 绘图案例</a><a href="/rsdb2/" class="mobile-nav-link">RStata课程与数据库</a><a href="/templates/" class="mobile-nav-link">模板库</a><a href="/books/" class="mobile-nav-link">电子书</a><a href="/about/" class="mobile-nav-link">关于</a>
      <li class="mobile-nav-item">
        <a href="https://github.com/r-stata" class="mobile-nav-link" rel="external" target="_blank">GitHub</a>
      </li>
    </ul>
    
      <strong class="mobile-nav-title">核心</strong><a href="index.html" class="mobile-nav-link current">概述</a><a href="events.html" class="mobile-nav-link">事件</a><a href="locals.html" class="mobile-nav-link">本地变量</a><a href="router.html" class="mobile-nav-link">路由</a><a href="box.html" class="mobile-nav-link">盒(Box)</a><a href="rendering.html" class="mobile-nav-link">渲染</a><a href="posts.html" class="mobile-nav-link">文章</a><a href="scaffolds.html" class="mobile-nav-link">模版 (Scaffold)</a><a href="themes.html" class="mobile-nav-link">主题</a><strong class="mobile-nav-title">扩展</strong><a href="console.html" class="mobile-nav-link">控制台 (Console)</a><a href="deployer.html" class="mobile-nav-link">部署器 (Deployer)</a><a href="filter.html" class="mobile-nav-link">过滤器 (Filter)</a><a href="generator.html" class="mobile-nav-link">生成器 (Generator)</a><a href="helper.html" class="mobile-nav-link">辅助函数 (Helper)</a><a href="migrator.html" class="mobile-nav-link">迁移器 (Migrator)</a><a href="processor.html" class="mobile-nav-link">处理器 (Processor)</a><a href="renderer.html" class="mobile-nav-link">渲染引擎 (Renderer)</a><a href="tag.html" class="mobile-nav-link">标签 (Tag)</a>
    
  </div>
  <div id="mobile-lang-select-wrap">
    <span id="mobile-lang-select-label"><i class="fa fa-globe"></i><span>简体中文</span></span>
    <select id="mobile-lang-select" data-canonical="api/index.html">
      
        <option value="en">English</option>
      
        <option value="zh-tw">正體中文</option>
      
        <option value="zh-cn" selected>简体中文</option>
      
        <option value="ru">Русский</option>
      
        <option value="ko">한국어</option>
      
        <option value="pt-br">Português (Brasil)</option>
      
        <option value="th">ภาษาไทย</option>
      
    </select>
  </div>
</nav>
  <!-- Scripts -->
<!-- Cookie -->
<script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script>
<!-- build:js build/js/main.js -->

<script src="/js/lang_select.js"></script>


<script src="/js/mobile_nav.js"></script>

<!-- endbuild -->

<!-- Algolia -->


</body>
</html>