define(["./core","./var/concat","./var/push","./core/access","./manipulation/var/rcheckableType","./manipulation/support","./data/var/data_priv","./data/var/data_user","./core/init","./data/accepts","./traversing","./selector","./event"],function(f,m,l,t,d,v,y,c){var u=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,g=/<([\w:]+)/,b=/<|&#?\w+;/,i=/<(?:script|style|link)/i,T=/checked\s*(?:[^=]|=\s*.checked.)/i,C=/^$|\/(?:java|ecma)script/i,n=/^true\/(.*)/,x=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,N={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function r(e,t){return f.nodeName(e,"table")&&f.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function D(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function w(e){var t=n.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function M(e,t){for(var n=0,r=e.length;n<r;n++)y.set(e[n],"globalEval",!t||y.get(t[n],"globalEval"))}function k(e,t){var n,r,i,o,a,l;if(1===t.nodeType){if(y.hasData(e)&&(o=y.access(e),a=y.set(t,o),l=o.events))for(i in delete a.handle,a.events={},l)for(n=0,r=l[i].length;n<r;n++)f.event.add(t,i,l[i][n]);c.hasData(e)&&(o=c.access(e),a=f.extend({},o),c.set(t,a))}}function E(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&f.nodeName(e,t)?f.merge([e],n):n}return N.optgroup=N.option,N.tbody=N.tfoot=N.colgroup=N.caption=N.thead,N.th=N.td,f.extend({clone:function(e,t,n){var r,i,o,a,l,c,s,p=e.cloneNode(!0),h=f.contains(e.ownerDocument,e);if(!(v.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||f.isXMLDoc(e)))for(a=E(p),r=0,i=(o=E(e)).length;r<i;r++)l=o[r],c=a[r],s=void 0,"input"===(s=c.nodeName.toLowerCase())&&d.test(l.type)?c.checked=l.checked:"input"!==s&&"textarea"!==s||(c.defaultValue=l.defaultValue);if(t)if(n)for(o=o||E(e),a=a||E(p),r=0,i=o.length;r<i;r++)k(o[r],a[r]);else k(e,p);return 0<(a=E(p,"script")).length&&M(a,!h&&E(e,"script")),p},buildFragment:function(e,t,n,r){for(var i,o,a,l,c,s=t.createDocumentFragment(),p=[],h=0,d=e.length;h<d;h++)if((i=e[h])||0===i)if("object"===f.type(i))f.merge(p,i.nodeType?[i]:i);else if(b.test(i)){for(o=o||s.appendChild(t.createElement("div")),a=(g.exec(i)||["",""])[1].toLowerCase(),o.innerHTML=(a=N[a]||N._default)[1]+i.replace(u,"<$1></$2>")+a[2],c=a[0];c--;)o=o.lastChild;f.merge(p,o.childNodes),(o=s.firstChild).textContent=""}else p.push(t.createTextNode(i));for(s.textContent="",h=0;i=p[h++];)if((!r||-1===f.inArray(i,r))&&(l=f.contains(i.ownerDocument,i),o=E(s.appendChild(i),"script"),l&&M(o),n))for(c=0;i=o[c++];)C.test(i.type||"")&&n.push(i);return s},cleanData:function(e){for(var t,n,r,i,o=f.event.special,a=0;void 0!==(n=e[a]);a++){if(f.acceptData(n)&&(i=n[y.expando])&&(t=y.cache[i])){if(t.events)for(r in t.events)o[r]?f.event.remove(n,r):f.removeEvent(n,r,t.handle);y.cache[i]&&delete y.cache[i]}delete c.cache[n[c.expando]]}}}),f.fn.extend({text:function(e){return t(this,function(e){return void 0===e?f.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||r(this,e).appendChild(e)})},prepend:function(){return this.domManip(arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(t=r(this,e)).insertBefore(e,t.firstChild)})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?f.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||f.cleanData(E(n)),n.parentNode&&(t&&f.contains(n.ownerDocument,n)&&M(E(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(f.cleanData(E(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return f.clone(this,e,t)})},html:function(e){return t(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!i.test(e)&&!N[(g.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(u,"<$1></$2>");try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(f.cleanData(E(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,f.cleanData(E(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(n,r){n=m.apply([],n);var e,t,i,o,a,l,c=0,s=this.length,p=this,h=s-1,d=n[0],u=f.isFunction(d);if(u||1<s&&"string"==typeof d&&!v.checkClone&&T.test(d))return this.each(function(e){var t=p.eq(e);u&&(n[0]=d.call(this,e,t.html())),t.domManip(n,r)});if(s&&(t=(e=f.buildFragment(n,this[0].ownerDocument,!1,this)).firstChild,1===e.childNodes.length&&(e=t),t)){for(o=(i=f.map(E(e,"script"),D)).length;c<s;c++)a=e,c!==h&&(a=f.clone(a,!0,!0),o&&f.merge(i,E(a,"script"))),r.call(this[c],a,c);if(o)for(l=i[i.length-1].ownerDocument,f.map(i,w),c=0;c<o;c++)a=i[c],C.test(a.type||"")&&!y.access(a,"globalEval")&&f.contains(l,a)&&(a.src?f._evalUrl&&f._evalUrl(a.src):f.globalEval(a.textContent.replace(x,"")))}return this}}),f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){f.fn[e]=function(e){for(var t,n=[],r=f(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),f(r[o])[a](t),l.apply(n,t.get());return this.pushStack(n)}}),f});