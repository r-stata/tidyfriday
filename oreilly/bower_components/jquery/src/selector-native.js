define(["./core"],function(i){function c(e,t){var n;return e===t?(u=!0,0):(n=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t))?1&n?e===document||i.contains(document,e)?-1:t===document||i.contains(document,t)?1:0:4&n?-1:1:e.compareDocumentPosition?-1:1}var u,e=window.document.documentElement,n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.msMatchesSelector;i.extend({find:function(e,t,n,o){var r,c,u=0;if(n=n||[],t=t||document,e&&"string"==typeof e){if(1!==(c=t.nodeType)&&9!==c)return[];if(o)for(;r=o[u++];)i.find.matchesSelector(r,e)&&n.push(r);else i.merge(n,t.querySelectorAll(e))}return n},unique:function(e){var t,n=[],o=0,r=0;if(u=!1,e.sort(c),u){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return e},text:function(e){var t,n="",o=0,r=e.nodeType;if(r){if(1===r||9===r||11===r)return e.textContent;if(3===r||4===r)return e.nodeValue}else for(;t=e[o++];)n+=i.text(t);return n},contains:function(e,t){var n=9===e.nodeType?e.documentElement:e,t=t&&t.parentNode;return e===t||!(!t||1!==t.nodeType||!n.contains(t))},isXMLDoc:function(e){return"HTML"!==(e.ownerDocument||e).documentElement.nodeName},expr:{attrHandle:{},match:{bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]/}}}),i.extend(i.find,{matches:function(e,t){return i.find(e,null,null,t)},matchesSelector:function(e,t){return n.call(e,t)},attr:function(e,t){return e.getAttribute(t)}})});