define(["../core","../var/rnotwhite","./accepts"],function(a,s){function e(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=a.expando+e.uid++}return e.uid=1,e.accepts=a.acceptData,e.prototype={key:function(t){if(!e.accepts(t))return 0;var i={},c=t[this.expando];if(!c){c=e.uid++;try{i[this.expando]={value:c},Object.defineProperties(t,i)}catch(e){i[this.expando]=c,a.extend(t,i)}}return this.cache[c]||(this.cache[c]={}),c},set:function(e,t,i){var c,e=this.key(e),n=this.cache[e];if("string"==typeof t)n[t]=i;else if(a.isEmptyObject(n))a.extend(this.cache[e],t);else for(c in t)n[c]=t[c];return n},get:function(e,t){e=this.cache[this.key(e)];return void 0===t?e:e[t]},access:function(e,t,i){var c;return void 0===t||t&&"string"==typeof t&&void 0===i?void 0!==(c=this.get(e,t))?c:this.get(e,a.camelCase(t)):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,c,e=this.key(e),n=this.cache[e];if(void 0===t)this.cache[e]={};else{i=(c=a.isArray(t)?t.concat(t.map(a.camelCase)):(e=a.camelCase(t),t in n?[t,e]:(c=e)in n?[c]:c.match(s)||[])).length;for(;i--;)delete n[c[i]]}},hasData:function(e){return!a.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}},e});