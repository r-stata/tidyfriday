define(["./core","./var/rnotwhite","./core/access","./data/var/data_priv","./data/var/data_user"],function(s,t,c,u,d){var i=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,r=/([A-Z])/g;function f(t,e,a){var n;if(void 0===a&&1===t.nodeType)if(n="data-"+e.replace(r,"-$1").toLowerCase(),"string"==typeof(a=t.getAttribute(n))){try{a="true"===a||"false"!==a&&("null"===a?null:+a+""===a?+a:i.test(a)?s.parseJSON(a):a)}catch(t){}d.set(t,e,a)}else a=void 0;return a}return s.extend({hasData:function(t){return d.hasData(t)||u.hasData(t)},data:function(t,e,a){return d.access(t,e,a)},removeData:function(t,e){d.remove(t,e)},_data:function(t,e,a){return u.access(t,e,a)},_removeData:function(t,e){u.remove(t,e)}}),s.fn.extend({data:function(n,t){var e,a,i,r=this[0],o=r&&r.attributes;if(void 0!==n)return"object"==typeof n?this.each(function(){d.set(this,n)}):c(this,function(e){var t,a=s.camelCase(n);if(r&&void 0===e)return void 0!==(t=d.get(r,n))||void 0!==d.get(r,a)||void 0!==f(r,a,void 0)?t:void 0;this.each(function(){var t=d.get(this,a);d.set(this,a,e),-1!==n.indexOf("-")&&void 0!==t&&d.set(this,n,e)})},null,t,1<arguments.length,null,!0);if(this.length&&(i=d.get(r),1===r.nodeType&&!u.get(r,"hasDataAttrs"))){for(e=o.length;e--;)o[e]&&0===(a=o[e].name).indexOf("data-")&&(a=s.camelCase(a.slice(5)),f(r,a,i[a]));u.set(r,"hasDataAttrs",!0)}return i},removeData:function(t){return this.each(function(){d.remove(this,t)})}}),s});