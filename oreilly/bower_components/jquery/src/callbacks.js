define(["./core","./var/rnotwhite"],function(d,v){var p={};return d.Callbacks=function(r){var n,i;r="string"==typeof r?p[r]||(i=p[n=r]={},d.each(n.match(v)||[],function(n,t){i[t]=!0}),i):d.extend({},r);function e(n){for(t=r.memory&&n,u=!0,h=c||0,c=0,f=a.length,o=!0;a&&h<f;h++)if(!1===a[h].apply(n[0],n[1])&&r.stopOnFalse){t=!1;break}o=!1,a&&(s?s.length&&e(s.shift()):t?a=[]:l.disable())}var t,u,o,c,f,h,a=[],s=!r.once&&[],l={add:function(){var n;return a&&(n=a.length,function e(n){d.each(n,function(n,t){var i=d.type(t);"function"===i?r.unique&&l.has(t)||a.push(t):t&&t.length&&"string"!==i&&e(t)})}(arguments),o?f=a.length:t&&(c=n,e(t))),this},remove:function(){return a&&d.each(arguments,function(n,t){for(var i;-1<(i=d.inArray(t,a,i));)a.splice(i,1),o&&(i<=f&&f--,i<=h&&h--)}),this},has:function(n){return n?-1<d.inArray(n,a):!(!a||!a.length)},empty:function(){return a=[],f=0,this},disable:function(){return a=s=t=void 0,this},disabled:function(){return!a},lock:function(){return s=void 0,t||l.disable(),this},locked:function(){return!s},fireWith:function(n,t){return!a||u&&!s||(t=[n,(t=t||[]).slice?t.slice():t],o?s.push(t):e(t)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!u}};return l},d});