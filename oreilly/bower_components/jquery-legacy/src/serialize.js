define(["./core","./manipulation/var/rcheckableType","./core/init","./traversing","./attributes/prop"],function(s,t){var a=/%20/g,o=/\[\]$/,i=/\r?\n/g,n=/^(?:submit|button|image|reset|file)$/i,r=/^(?:input|select|textarea|keygen)/i;return s.param=function(e,t){function n(e,t){t=s.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)}var i,r=[];if(void 0===t&&(t=s.ajaxSettings&&s.ajaxSettings.traditional),s.isArray(e)||e.jquery&&!s.isPlainObject(e))s.each(e,function(){n(this.name,this.value)});else for(i in e)!function n(i,e,r,a){if(s.isArray(e))s.each(e,function(e,t){r||o.test(i)?a(i,t):n(i+"["+("object"==typeof t?e:"")+"]",t,r,a)});else if(r||"object"!==s.type(e))a(i,e);else for(var t in e)n(i+"["+t+"]",e[t],r,a)}(i,e[i],t,n);return r.join("&").replace(a,"+")},s.fn.extend({serialize:function(){return s.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=s.prop(this,"elements");return e?s.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!s(this).is(":disabled")&&r.test(this.nodeName)&&!n.test(e)&&(this.checked||!t.test(e))}).map(function(e,t){var n=s(this).val();return null==n?null:s.isArray(n)?s.map(n,function(e){return{name:t.name,value:e.replace(i,"\r\n")}}):{name:t.name,value:n.replace(i,"\r\n")}}).get()}}),s});