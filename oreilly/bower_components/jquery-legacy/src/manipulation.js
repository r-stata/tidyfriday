define(["./core","./var/strundefined","./var/concat","./var/push","./var/deletedIds","./core/access","./manipulation/var/rcheckableType","./manipulation/support","./core/init","./data/accepts","./traversing","./selector","./event"],function(m,p,f,l,u,t,v,y){function g(e){var t=i.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}var i="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",r=/ jQuery\d+="(?:null|\d+)"/g,b=new RegExp("<(?:"+i+")[\\s/>]","i"),C=/^\s+/,T=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,N=/<([\w:]+)/,x=/<tbody/i,M=/<|&#?\w+;/,o=/<(?:script|style|link)/i,D=/checked\s*(?:[^=]|=\s*.checked.)/i,E=/^$|\/(?:java|ecma)script/i,n=/^true\/(.*)/,L=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,k={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:y.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},w=g(document).appendChild(document.createElement("div"));function H(e,t){var n,i,r=0,o=typeof e.getElementsByTagName!==p?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==p?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(i=n[r]);r++)!t||m.nodeName(i,t)?o.push(i):m.merge(o,H(i,t));return void 0===t||t&&m.nodeName(e,t)?m.merge([e],o):o}function A(e){v.test(e.type)&&(e.defaultChecked=e.checked)}function a(e,t){return m.nodeName(e,"table")&&m.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function _(e){return e.type=(null!==m.find.attr(e,"type"))+"/"+e.type,e}function S(e){var t=n.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function B(e,t){for(var n,i=0;null!=(n=e[i]);i++)m._data(n,"globalEval",!t||m._data(t[i],"globalEval"))}function j(e,t){if(1===t.nodeType&&m.hasData(e)){var n,i,r,e=m._data(e),o=m._data(t,e),a=e.events;if(a)for(n in delete o.handle,o.events={},a)for(i=0,r=a[n].length;i<r;i++)m.event.add(t,n,a[n][i]);o.data&&(o.data=m.extend({},o.data))}}return k.optgroup=k.option,k.tbody=k.tfoot=k.colgroup=k.caption=k.thead,k.th=k.td,m.extend({clone:function(e,t,n){var i,r,o,a,l,d=m.contains(e.ownerDocument,e);if(y.html5Clone||m.isXMLDoc(e)||!b.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(w.innerHTML=e.outerHTML,w.removeChild(o=w.firstChild)),!(y.noCloneEvent&&y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||m.isXMLDoc(e)))for(i=H(o),l=H(e),a=0;null!=(r=l[a]);++a)if(i[a]){p=s=c=h=u=void 0;var c,s,p,u=r,h=i[a];if(1===h.nodeType){if(c=h.nodeName.toLowerCase(),!y.noCloneEvent&&h[m.expando]){for(s in(p=m._data(h)).events)m.removeEvent(h,s,p.handle);h.removeAttribute(m.expando)}"script"===c&&h.text!==u.text?(_(h).text=u.text,S(h)):"object"===c?(h.parentNode&&(h.outerHTML=u.outerHTML),y.html5Clone&&u.innerHTML&&!m.trim(h.innerHTML)&&(h.innerHTML=u.innerHTML)):"input"===c&&v.test(u.type)?(h.defaultChecked=h.checked=u.checked,h.value!==u.value&&(h.value=u.value)):"option"===c?h.defaultSelected=h.selected=u.defaultSelected:"input"!==c&&"textarea"!==c||(h.defaultValue=u.defaultValue)}}if(t)if(n)for(l=l||H(e),i=i||H(o),a=0;null!=(r=l[a]);a++)j(r,i[a]);else j(e,o);return 0<(i=H(o,"script")).length&&B(i,!d&&H(e,"script")),i=l=r=null,o},buildFragment:function(e,t,n,i){for(var r,o,a,l,d,c,s,p=e.length,u=g(t),h=[],f=0;f<p;f++)if((o=e[f])||0===o)if("object"===m.type(o))m.merge(h,o.nodeType?[o]:o);else if(M.test(o)){for(l=l||u.appendChild(t.createElement("div")),d=(N.exec(o)||["",""])[1].toLowerCase(),l.innerHTML=(s=k[d]||k._default)[1]+o.replace(T,"<$1></$2>")+s[2],r=s[0];r--;)l=l.lastChild;if(!y.leadingWhitespace&&C.test(o)&&h.push(t.createTextNode(C.exec(o)[0])),!y.tbody)for(r=(o="table"!==d||x.test(o)?"<table>"!==s[1]||x.test(o)?0:l:l.firstChild)&&o.childNodes.length;r--;)m.nodeName(c=o.childNodes[r],"tbody")&&!c.childNodes.length&&o.removeChild(c);for(m.merge(h,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=u.lastChild}else h.push(t.createTextNode(o));for(l&&u.removeChild(l),y.appendChecked||m.grep(H(h,"input"),A),f=0;o=h[f++];)if((!i||-1===m.inArray(o,i))&&(a=m.contains(o.ownerDocument,o),l=H(u.appendChild(o),"script"),a&&B(l),n))for(r=0;o=l[r++];)E.test(o.type||"")&&n.push(o);return l=null,u},cleanData:function(e,t){for(var n,i,r,o,a=0,l=m.expando,d=m.cache,c=y.deleteExpando,s=m.event.special;null!=(n=e[a]);a++)if((t||m.acceptData(n))&&(o=(r=n[l])&&d[r])){if(o.events)for(i in o.events)s[i]?m.event.remove(n,i):m.removeEvent(n,i,o.handle);d[r]&&(delete d[r],c?delete n[l]:typeof n.removeAttribute!==p?n.removeAttribute(l):n[l]=null,u.push(r))}}}),m.fn.extend({text:function(e){return t(this,function(e){return void 0===e?m.text(this):this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||a(this,e).appendChild(e)})},prepend:function(){return this.domManip(arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(t=a(this,e)).insertBefore(e,t.firstChild)})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?m.filter(e,this):this,r=0;null!=(n=i[r]);r++)t||1!==n.nodeType||m.cleanData(H(n)),n.parentNode&&(t&&m.contains(n.ownerDocument,n)&&B(H(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&m.cleanData(H(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&m.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return m.clone(this,e,t)})},html:function(e){return t(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(r,""):void 0;if("string"==typeof e&&!o.test(e)&&(y.htmlSerialize||!b.test(e))&&(y.leadingWhitespace||!C.test(e))&&!k[(N.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(T,"<$1></$2>");try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(m.cleanData(H(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,m.cleanData(H(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(n,i){n=f.apply([],n);var e,t,r,o,a,l,d=0,c=this.length,s=this,p=c-1,u=n[0],h=m.isFunction(u);if(h||1<c&&"string"==typeof u&&!y.checkClone&&D.test(u))return this.each(function(e){var t=s.eq(e);h&&(n[0]=u.call(this,e,t.html())),t.domManip(n,i)});if(c&&(e=(l=m.buildFragment(n,this[0].ownerDocument,!1,this)).firstChild,1===l.childNodes.length&&(l=e),e)){for(r=(o=m.map(H(l,"script"),_)).length;d<c;d++)t=l,d!==p&&(t=m.clone(t,!0,!0),r&&m.merge(o,H(t,"script"))),i.call(this[d],t,d);if(r)for(a=o[o.length-1].ownerDocument,m.map(o,S),d=0;d<r;d++)t=o[d],E.test(t.type||"")&&!m._data(t,"globalEval")&&m.contains(a,t)&&(t.src?m._evalUrl&&m._evalUrl(t.src):m.globalEval((t.text||t.textContent||t.innerHTML||"").replace(L,"")));l=null}return this}}),m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){m.fn[e]=function(e){for(var t,n=0,i=[],r=m(e),o=r.length-1;n<=o;n++)t=n===o?this:this.clone(!0),m(r[n])[a](t),l.apply(i,t.get());return this.pushStack(i)}}),m});