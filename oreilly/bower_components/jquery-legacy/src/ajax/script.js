define(["../core","../ajax"],function(a){a.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return a.globalEval(t),t}}}),a.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),a.ajaxTransport("script",function(e){var c,n;if(e.crossDomain)return n=document.head||a("head")[0]||document.documentElement,{send:function(t,a){(c=document.createElement("script")).async=!0,e.scriptCharset&&(c.charset=e.scriptCharset),c.src=e.url,c.onload=c.onreadystatechange=function(t,e){!e&&c.readyState&&!/loaded|complete/.test(c.readyState)||(c.onload=c.onreadystatechange=null,c.parentNode&&c.parentNode.removeChild(c),c=null,e||a(200,"success"))},n.insertBefore(c,n.firstChild)},abort:function(){c&&c.onload(void 0,!0)}}})});