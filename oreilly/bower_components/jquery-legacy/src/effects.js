define(["./core","./var/pnum","./css/var/cssExpand","./css/var/isHidden","./css/defaultDisplay","./effects/support","./core/init","./effects/Tween","./queue","./css","./deferred","./traversing"],function(g,e,s,m,w,v){var x,t,y=/^(?:toggle|show|hide)$/,a=new RegExp("^(?:([+-])=|)("+e+")([a-z%]*)$","i"),u=/queueHooks$/,q=[function(t,e,n){var i,o,s,r,u,a,f,l=this,c={},d=t.style,p=t.nodeType&&m(t),h=g._data(t,"fxshow");n.queue||(null==(u=g._queueHooks(t,"fx")).unqueued&&(u.unqueued=0,a=u.empty.fire,u.empty.fire=function(){u.unqueued||a()}),u.unqueued++,l.always(function(){l.always(function(){u.unqueued--,g.queue(t,"fx").length||u.empty.fire()})}));1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],f=g.css(t,"display"),"inline"===("none"===f?g._data(t,"olddisplay")||w(t.nodeName):f)&&"none"===g.css(t,"float")&&(v.inlineBlockNeedsLayout&&"inline"!==w(t.nodeName)?d.zoom=1:d.display="inline-block"));n.overflow&&(d.overflow="hidden",v.shrinkWrapBlocks()||l.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(i in e)if(o=e[i],y.exec(o)){if(delete e[i],s=s||"toggle"===o,o===(p?"hide":"show")){if("show"!==o||!h||void 0===h[i])continue;p=!0}c[i]=h&&h[i]||g.style(t,i)}else f=void 0;if(g.isEmptyObject(c))"inline"===("none"===f?w(t.nodeName):f)&&(d.display=f);else for(i in h?"hidden"in h&&(p=h.hidden):h=g._data(t,"fxshow",{}),s&&(h.hidden=!p),p?g(t).show():l.done(function(){g(t).hide()}),l.done(function(){for(var e in g._removeData(t,"fxshow"),c)g.style(t,e,c[e])}),c)r=k(p?h[i]:0,i,l),i in h||(h[i]=r.start,p&&(r.end=r.start,r.start="width"===i||"height"===i?1:0))}],f={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),t=a.exec(t),o=t&&t[3]||(g.cssNumber[e]?"":"px"),s=(g.cssNumber[e]||"px"!==o&&+i)&&a.exec(g.css(n.elem,e)),r=1,u=20;if(s&&s[3]!==o)for(o=o||s[3],t=t||[],s=+i||1;s/=r=r||".5",g.style(n.elem,e,s+o),r!==(r=n.cur()/i)&&1!==r&&--u;);return t&&(s=n.start=+s||+i||0,n.unit=o,n.end=t[1]?s+(t[1]+1)*t[2]:+t[2]),n}]};function T(){return setTimeout(function(){x=void 0}),x=g.now()}function r(e,t){var n,i={height:e},o=0;for(t=t?1:0;o<4;o+=2-t)i["margin"+(n=s[o])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function k(e,t,n){for(var i,o=(f[t]||[]).concat(f["*"]),s=0,r=o.length;s<r;s++)if(i=o[s].call(n,t,e))return i}function l(o,e,t){var n,s,i,r,u,a,f,l=0,c=q.length,d=g.Deferred().always(function(){delete p.elem}),p=function(){if(s)return!1;for(var e=x||T(),e=Math.max(0,h.startTime+h.duration-e),t=1-(e/h.duration||0),n=0,i=h.tweens.length;n<i;n++)h.tweens[n].run(t);return d.notifyWith(o,[h,t,e]),t<1&&i?e:(d.resolveWith(o,[h]),!1)},h=d.promise({elem:o,props:g.extend({},e),opts:g.extend(!0,{specialEasing:{}},t),originalProperties:e,originalOptions:t,startTime:x||T(),duration:t.duration,tweens:[],createTween:function(e,t){t=g.Tween(o,h.opts,e,t,h.opts.specialEasing[e]||h.opts.easing);return h.tweens.push(t),t},stop:function(e){var t=0,n=e?h.tweens.length:0;if(!s){for(s=!0;t<n;t++)h.tweens[t].run(1);e?d.resolveWith(o,[h,e]):d.rejectWith(o,[h,e])}return this}}),m=h.props,w=m,v=h.opts.specialEasing;for(i in w)if(u=v[r=g.camelCase(i)],a=w[i],g.isArray(a)&&(u=a[1],a=w[i]=a[0]),i!==r&&(w[r]=a,delete w[i]),(f=g.cssHooks[r])&&"expand"in f)for(i in a=f.expand(a),delete w[r],a)i in w||(w[i]=a[i],v[i]=u);else v[r]=u;for(;l<c;l++)if(n=q[l].call(h,o,m,h.opts))return n;return g.map(m,k,h),g.isFunction(h.opts.start)&&h.opts.start.call(o,h),g.fx.timer(g.extend(p,{elem:o,anim:h,queue:h.opts.queue})),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always)}return g.Animation=g.extend(l,{tweener:function(e,t){for(var n,i=0,o=(e=g.isFunction(e)?(t=e,["*"]):e.split(" ")).length;i<o;i++)n=e[i],f[n]=f[n]||[],f[n].unshift(t)},prefilter:function(e,t){t?q.unshift(e):q.push(e)}}),g.speed=function(e,t,n){var i=e&&"object"==typeof e?g.extend({},e):{complete:n||!n&&t||g.isFunction(e)&&e,duration:e,easing:n&&t||t&&!g.isFunction(t)&&t};return i.duration=g.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in g.fx.speeds?g.fx.speeds[i.duration]:g.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){g.isFunction(i.old)&&i.old.call(this),i.queue&&g.dequeue(this,i.queue)},i},g.fn.extend({fadeTo:function(e,t,n,i){return this.filter(m).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(t,e,n,i){function o(){var e=l(this,g.extend({},t),r);(s||g._data(this,"finish"))&&e.stop(!0)}var s=g.isEmptyObject(t),r=g.speed(e,n,i);return o.finish=o,s||!1===r.queue?this.each(o):this.queue(r.queue,o)},stop:function(o,e,s){function r(e){var t=e.stop;delete e.stop,t(s)}return"string"!=typeof o&&(s=e,e=o,o=void 0),e&&!1!==o&&this.queue(o||"fx",[]),this.each(function(){var e=!0,t=null!=o&&o+"queueHooks",n=g.timers,i=g._data(this);if(t)i[t]&&i[t].stop&&r(i[t]);else for(t in i)i[t]&&i[t].stop&&u.test(t)&&r(i[t]);for(t=n.length;t--;)n[t].elem!==this||null!=o&&n[t].queue!==o||(n[t].anim.stop(s),e=!1,n.splice(t,1));!e&&s||g.dequeue(this,o)})},finish:function(r){return!1!==r&&(r=r||"fx"),this.each(function(){var e,t=g._data(this),n=t[r+"queue"],i=t[r+"queueHooks"],o=g.timers,s=n?n.length:0;for(t.finish=!0,g.queue(this,r,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===r&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),g.each(["toggle","show","hide"],function(e,i){var o=g.fn[i];g.fn[i]=function(e,t,n){return null==e||"boolean"==typeof e?o.apply(this,arguments):this.animate(r(i,!0),e,t,n)}}),g.each({slideDown:r("show"),slideUp:r("hide"),slideToggle:r("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,i){g.fn[e]=function(e,t,n){return this.animate(i,e,t,n)}}),g.timers=[],g.fx.tick=function(){var e,t=g.timers,n=0;for(x=g.now();n<t.length;n++)(e=t[n])()||t[n]!==e||t.splice(n--,1);t.length||g.fx.stop(),x=void 0},g.fx.timer=function(e){g.timers.push(e),e()?g.fx.start():g.timers.pop()},g.fx.interval=13,g.fx.start=function(){t=t||setInterval(g.fx.tick,g.fx.interval)},g.fx.stop=function(){clearInterval(t),t=null},g.fx.speeds={slow:600,fast:200,_default:400},g});