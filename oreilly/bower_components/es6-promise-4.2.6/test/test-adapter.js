var assert=require("assert"),Promise=require("./es6-promise");function defer(){var s={};return s.promise=new Promise(function(e,r){s.resolve=e,s.reject=r}),s}assert("function"==typeof Promise.polyfill),assert("function"==typeof Promise.Promise),assert(Promise.Promise===Promise),new Function("return this;")().adapter={resolved:function(e){return Promise.resolve(e)},rejected:function(e){return Promise.reject(e)},deferred:defer,Promise:Promise};