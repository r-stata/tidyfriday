"use strict";var previousElement,computedCSS,html2canvas,_html2canvas={};function toPX(t,e,n){var o,i=t.runtimeStyle&&t.runtimeStyle[e],r=t.style;return!/^-?[0-9]+\.?[0-9]*(?:px)?$/i.test(n)&&/^-?\d/.test(n)&&(o=r.left,i&&(t.runtimeStyle.left=t.currentStyle.left),r.left="fontSize"===e?"1em":n||0,n=r.pixelLeft+"px",r.left=o,i&&(t.runtimeStyle.left=i)),/^(thin|medium|thick)$/i.test(n)?n:Math.round(parseFloat(n))+"px"}function asInt(t){return parseInt(t,10)}function parseBackgroundSizePosition(t,e,n,o){if(t=(t=(t||"").split(","))[o||0]||t[0]||"auto",t=_html2canvas.Util.trimText(t).split(" "),"backgroundSize"!==n||t[0]&&!t[0].match(/cover|contain|auto/)){if(t[0]=-1===t[0].indexOf("%")?toPX(e,n+"X",t[0]):t[0],void 0===t[1]){if("backgroundSize"===n)return t[1]="auto",t;t[1]=t[0]}t[1]=-1===t[1].indexOf("%")?toPX(e,n+"Y",t[1]):t[1]}return t}function backgroundBoundsFactory(t,e,n,o,i,r){var a,s,l,e=_html2canvas.Util.getCSS(e,t,i);return 1===e.length&&(i=e[0],(e=[])[0]=i,e[1]=i),-1!==e[0].toString().indexOf("%")?(a=parseFloat(e[0])/100,s=n.width*a,"backgroundSize"!==t&&(s-=(r||o).width*a)):"backgroundSize"===t?"auto"===e[0]?s=o.width:/contain|cover/.test(e[0])?(s=(i=_html2canvas.Util.resizeBounds(o.width,o.height,n.width,n.height,e[0])).width,l=i.height):s=parseInt(e[0],10):s=parseInt(e[0],10),"auto"===e[1]?l=s/o.width*o.height:-1!==e[1].toString().indexOf("%")?(a=parseFloat(e[1])/100,l=n.height*a,"backgroundSize"!==t&&(l-=(r||o).height*a)):l=parseInt(e[1],10),[s,l]}_html2canvas.Util={},_html2canvas.Util.log=function(t){_html2canvas.logging&&window.console&&window.console.log&&window.console.log(t)},_html2canvas.Util.trimText=function(e){return function(t){return e?e.apply(t):((t||"")+"").replace(/^\s+|\s+$/g,"")}}(String.prototype.trim),_html2canvas.Util.asFloat=function(t){return parseFloat(t)},function(){var r=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,a=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g;_html2canvas.Util.parseTextShadows=function(t){if(!t||"none"===t)return[];for(var e=t.match(r),n=[],o=0;e&&o<e.length;o++){var i=e[o].match(a);n.push({color:i[0],offsetX:i[1]?i[1].replace("px",""):0,offsetY:i[2]?i[2].replace("px",""):0,blur:i[3]?i[3].replace("px",""):0})}return n}}(),_html2canvas.Util.parseBackgroundImage=function(t){function e(){n&&((o='"'===o.substr(0,1)?o.substr(1,o.length-2):o)&&u.push(o),"-"===n.substr(0,1)&&0<(r=n.indexOf("-",1)+1)&&(i=n.substr(0,r),n=n.substr(r)),c.push({prefix:i,method:n.toLowerCase(),value:a,args:u})),u=[],n=i=o=a=""}var n,o,i,r,a,s,l,u,c=[],f=0,h=0;e();for(var d=0,g=t.length;d<g;d++)if(s=t[d],!(0===f&&-1<" \r\n\t".indexOf(s))){switch(s){case'"':l?l===s&&(l=null):l=s;break;case"(":if(!l){if(0===f){f=1,a+=s;continue}h++}break;case")":if(!l&&1===f){if(0===h){f=0,a+=s,e();continue}h--}break;case",":if(!l){if(0===f){e();continue}if(1===f&&0===h&&!n.match(/^url$/i)){u.push(o),o="",a+=s;continue}}}a+=s,0===f?n+=s:o+=s}return e(),c},_html2canvas.Util.Bounds=function(t){var e,n={};return t.getBoundingClientRect&&(e=t.getBoundingClientRect(),n.top=e.top,n.bottom=e.bottom||e.top+e.height,n.left=e.left,n.width=t.offsetWidth,n.height=t.offsetHeight),n},_html2canvas.Util.OffsetBounds=function(t){var e=t.offsetParent?_html2canvas.Util.OffsetBounds(t.offsetParent):{top:0,left:0};return{top:t.offsetTop+e.top,bottom:t.offsetTop+t.offsetHeight+e.top,left:t.offsetLeft+e.left,width:t.offsetWidth,height:t.offsetHeight}},_html2canvas.Util.getCSS=function(t,e,n){var o=(computedCSS=previousElement!==t?document.defaultView.getComputedStyle(t,null):computedCSS)[e];return/^background(Size|Position)$/.test(e)?parseBackgroundSizePosition(o,t,e,n):/border(Top|Bottom)(Left|Right)Radius/.test(e)?((t=o.split(" ")).length<=1&&(t[1]=t[0]),t.map(asInt)):o},_html2canvas.Util.resizeBounds=function(t,e,n,o,i){var r,a,t=t/e;return i&&"auto"!==i?n/o<t^"contain"===i?r=(a=o)*t:a=(r=n)/t:(r=n,a=o),{width:r,height:a}},_html2canvas.Util.BackgroundPosition=function(t,e,n,o,i){t=backgroundBoundsFactory("backgroundPosition",t,e,n,o,i);return{left:t[0],top:t[1]}},_html2canvas.Util.BackgroundSize=function(t,e,n,o){t=backgroundBoundsFactory("backgroundSize",t,e,n,o);return{width:t[0],height:t[1]}},_html2canvas.Util.Extend=function(t,e){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},_html2canvas.Util.Children=function(t){var e;try{e=t.nodeName&&"IFRAME"===t.nodeName.toUpperCase()?t.contentDocument||t.contentWindow.document:function(t){var e=[];if(null!==t){var n=e,o=t,i=n.length,r=0;if("number"==typeof o.length)for(var a=o.length;r<a;r++)n[i++]=o[r];else for(;void 0!==o[r];)n[i++]=o[r++];n.length=i}return e}(t.childNodes)}catch(t){_html2canvas.Util.log("html2canvas.Util.Children failed with exception: "+t.message),e=[]}return e},_html2canvas.Util.isTransparent=function(t){return"transparent"===t||"rgba(0, 0, 0, 0)"===t};