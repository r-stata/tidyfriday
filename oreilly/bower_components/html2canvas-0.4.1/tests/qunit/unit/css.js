module("CSS"),$(function(){var t={},e={};function i(t,e,i){deepEqual(_html2canvas.Util.parseBackgroundImage(t),Array.isArray(e)?e:[e],i)}t["border-width"]=["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],e["border-width"]=$("#borders div").length,test("border-width",t["border-width"].length*e["border-width"],function(){$("#borders div").each(function(a,r){$.each(t["border-width"],function(t,e){var i=$(r).css(e);"thin"===i?i="1px":"medium"===i?i="3px":"thick"===i&&(i="5px"),QUnit.equal(_html2canvas.Util.getCSS(r,e),i,"div #"+(a+1)+" property "+e+" equals "+i)})})}),t["padding width"]=["paddingTop","paddingRight","paddingBottom","paddingLeft"],e["padding width"]=$("#padding div").length,test("padding width",t["padding width"].length*e["padding width"]*2,function(){$("#padding div").each(function(a,r){$.each(t["padding width"],function(t,e){var i=_html2canvas.Util.getCSS(r,e).indexOf("px");QUnit.notEqual(i,-1,"div #"+(a+1)+" property "+e+" is in pixels"),QUnit.equal(_html2canvas.Util.getCSS(r,e),$(r).css(e),"div #"+(a+1)+" property "+e+" equals "+$(r).css(e))})})}),t["background-position"]=["backgroundPosition"],e["background-position"]=$("#backgroundPosition div").length,test("background-position",t["background-position"].length*e["background-position"]*2,function(){$("#backgroundPosition div").each(function(r,d){$.each(t["background-position"],function(t,e){var i=new Image,a=(i.width=50,i.height=50,_html2canvas.Util.getCSS(d,e)),i=_html2canvas.Util.BackgroundPosition(d,_html2canvas.Util.Bounds(d),i),e=window.getComputedStyle?$(d).css(e).split(" "):[$(d).css(e+"X"),$(d).css(e+"Y")],e=$("<div />").css({position:"absolute",left:e[0],top:e[1]});e.appendTo(d),QUnit.equal(i.left,Math.round(parseFloat(e.css("left"),10)),"div #"+(r+1)+" background-position-x equals "+i.left+" from "+a),QUnit.equal(i.top,Math.round(parseFloat(e.css("top"),10)),"div #"+(r+1)+" background-position-y equals "+i.top),e.remove()})})}),test("text-shadow",function(){$("#textShadows div").each(function(t,e){var i=t+1,e=_html2canvas.Util.getCSS(e,"textShadow"),e=_html2canvas.Util.parseTextShadows(e);0==t?QUnit.equal(e.length,0,"div #"+i):(QUnit.equal(e.length,6<=t?2:1,"div #"+i),QUnit.equal(e[0].offsetX,t,"div #"+i+" offsetX"),QUnit.equal(e[0].offsetY,t,"div #"+i+" offsetY"),t<2?QUnit.equal(e[0].color,"rgba(0, 0, 0, 0)","div #"+i+" color"):t%2==0?QUnit.equal(e[0].color,"rgb(2, 2, 2)","div #"+i+" color"):QUnit.equal(e[0].color,"rgba(2, 2, 2, 0.199219)","div #"+i+" color"),1==t&&QUnit.equal(e[0].blur,"1","div #"+i+" blur"))})}),test("background-image",function(){i('url("te)st")',{prefix:"",method:"url",value:'url("te)st")',args:["te)st"]},"test quoted"),i('url("te,st")',{prefix:"",method:"url",value:'url("te,st")',args:["te,st"]},"test quoted"),i("url(te,st)",{prefix:"",method:"url",value:"url(te,st)",args:["te,st"]},"test quoted"),i("url(test)",{prefix:"",method:"url",value:"url(test)",args:["test"]},"basic url"),i('url("test")',{prefix:"",method:"url",value:'url("test")',args:["test"]},"quoted url"),i("url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)",{prefix:"",method:"url",value:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)",args:["data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"]},"data url"),i("linear-gradient(red,black)",{prefix:"",method:"linear-gradient",value:"linear-gradient(red,black)",args:["red","black"]},"linear-gradient"),i("linear-gradient(top,rgb(255,0,0),rgb(0,0,0))",{prefix:"",method:"linear-gradient",value:"linear-gradient(top,rgb(255,0,0),rgb(0,0,0))",args:["top","rgb(255,0,0)","rgb(0,0,0)"]},"linear-gradient w/ rgb()"),i("-webkit-linear-gradient(red,black)",{prefix:"-webkit-",method:"linear-gradient",value:"-webkit-linear-gradient(red,black)",args:["red","black"]},"prefixed linear-gradient"),i('linear-gradient(red,black), url(test), url("test"),\n none, ',[{prefix:"",method:"linear-gradient",value:"linear-gradient(red,black)",args:["red","black"]},{prefix:"",method:"url",value:"url(test)",args:["test"]},{prefix:"",method:"url",value:'url("test")',args:["test"]},{prefix:"",method:"none",value:"none",args:[]}],"multiple backgrounds")})});