{"version":3,"sources":["app.min.js"],"names":["angular","module","commonInterceptorService","$q","$location","$localStorage","request","config","access_token","headers","responseError","response","status","reject","value","factory","$inject","$httpProvider","$compileProvider","defaults","common","Accept","interceptors","push","debugInfoEnabled","filter","version","text","String","replace","loginController","$window","$interval","Logger","User","login","form","$invalid","username","$setDirty","password","vm","data","newUser","then","console","log","location","href","err","code","css","loginFormErrorMessage","errorXHR","logout","changeSignupType","type","signupType","getSignupSMS","mobile","signupFirstTime","signupSMSSendButton","timer","signupSMSCountDown","cancel","getSMS","signupUser","signupSMS","smscode","signup","appInit","this","email","event","controller","ogController","$document","clickColor","color","currentColor","clickAnimal","animal","currentAnimal","screenShot","myElement","$","html2canvas","onrendered","canvas","myImage","toDataURL","window","open","colorList","name","style","animalList","imageUrl","loggerService","$log","error","debug","info","userService","$http","user","getUserLogin","accessToken","post","token","messageType","myNavBarComponent","linkFunc","scope","element","attrs","currentEditMenuIndex","currentSelectMenuIndex","currentHoverMenuIndex","showAddNewMenuForm","newMenu","id","menulist","length","addMenu","saveNewMenu","copy","editMenu","index","saveEditMenu","deleteMenu","splice","deleteMenu2","menu","i","directive","restrict","templateUrl","link","dragBox","attr","mousemove","y","pageY","startY","x","pageX","startX","limitleft","limitright","top","left","mouseup","off","mousescroll","evt","preventDefault","originalEvent","wheelDelta","width","find","maxWidth","Number","maxwidth","position","on","cssshowmenu","editMenuButton","saveEditMenuButton","deleteMenuButton","remove","elem","maxmenu","maxmemu","newmemu","cssshowbox","addMenuButton","saveNewMenuButton"],"mappings":"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","file":"app.min.js","sourcesContent":["\n(function() {\n    'use strict';\n\n    // Declare app level module which depends on filters, and services\n    angular.module('websiteApp', ['ngStorage']);\n\n})();\n\n\n(function() {\n    'use strict';\n\n    angular.module('websiteApp').value('version', '0.1');\n\n\n    angular.module('websiteApp').factory('commonInterceptor', commonInterceptorService);\n\n    commonInterceptorService.$inject = ['$q', '$location', '$localStorage'];\n\n    function commonInterceptorService($q, $location, $localStorage) {\n        return {\n            request: request,\n            responseError: responseError\n        };\n\n\n        function request(config) {\n            if ($localStorage.access_token) {\n                config.headers['X-Access-Token'] = 'Bearer ' + $localStorage.access_token;\n            }\n            return config;\n        }\n\n        function responseError(response) {\n\n            if (response.status == 401) {\n                // $location.url('/web/signin');\n            }\n\n            if (response.status == 403) {\n                // $location.url('/web/signin');\n            }\n\n            return $q.reject(response);\n        }\n\n    }\n\n\n\n\n\n    angular.module('websiteApp').config(['$httpProvider', '$compileProvider', function($httpProvider, $compileProvider) {\n        $httpProvider.defaults.headers.common[\"X-Requested-With\"] = 'XMLHttpRequest';\n\n        $httpProvider.defaults.headers.common.Accept = 'application/json, text/javascript';\n        // $httpProvider.defaults.headers.common['Accept-Charset'] = 'charset=utf-8';\n        // $httpProvider.defaults.headers.common['Accept-Language'] = 'zh-CN' ? 'zh-CN' : 'en-US';\n        // $httpProvider.defaults.headers.common['Accept-Encoding'] = 'zh-CN' ? 'zh-CN' : 'en-US';\n\n\n        $httpProvider.interceptors.push('commonInterceptor');\n\n        // disable debug data for performance.\n        // https://docs.angularjs.org/guide/production#disabling-debug-data\n        $compileProvider.debugInfoEnabled(false);\n    }]);\n\n\n})();\n\n\n(function() {\n  'use strict';\n\n\n\n  /* Filters */\n\n  angular.module('websiteApp').filter('interpolate', ['version', function(version) {\n    return function(text) {\n      return String(text).replace(/\\%VERSION\\%/mg, version);\n    };\n  }]);\n\n\n})();\n\n\n\n(function() {\n    'use strict';\n\n\n    /* Controllers */\n\n    angular.module('websiteApp').controller('loginController', loginController);\n\n    loginController.$inject = ['$window', '$interval', 'Logger', 'User'];\n\n    function loginController($window, $interval, Logger, User) {\n\n        /* jshint validthis: true */\n        var vm = this;\n\n        /**********  Data Binding For CSS style   **********/\n        vm.css = {\n            loginFormErrorMessage : 0,\n            signupType : 'mobile',\n            signupFirstTime : true,\n            signupSMSCountDown : 60,\n            signupSMSSendButton : true\n        };\n\n\n        /**********  Data Binding For ViewModel  **********/\n        vm.data = {\n            newUser : {\n                username : '',\n                password : ''\n            },\n\n            signupUser : {\n                email : '',\n                mobile : '',\n                smscode : '',\n                username : '',\n                password : ''\n            }\n        };\n\n\n        /**********  Event Center  **********/\n        vm.event = {\n            login : login,\n            logout : logout,\n            changeSignupType : changeSignupType,\n            getSignupSMS : getSignupSMS,\n            signupSMS : signupSMS\n        };\n\n\n        function login(form){\n\n            if (form.$invalid) {\n                form.username.$setDirty();\n                form.password.$setDirty();\n                return ;\n            }\n\n            User.login(vm.data.newUser).then(function(data){\n                console.log(data);\n                $window.location.href = '/';\n            }).catch(function(err){\n                if (err && err.data && err.data.code){\n                    vm.css.loginFormErrorMessage = err.data.code;\n                }\n                Logger.errorXHR(err);\n            });\n        }\n\n\n        function logout(){\n\n            User.logout().then(function(data){\n                console.log(data);\n                $window.location.href = '/';\n            }).catch(function(err){\n                Logger.errorXHR(err);\n            });\n\n        }\n\n\n        function changeSignupType(type){\n            vm.css.signupType = type ;\n        }\n\n\n        function getSignupSMS(form){\n\n            if (form.mobile.$invalid) {\n                form.mobile.$setDirty();\n                return ;\n            }\n\n            vm.css.signupFirstTime = false;\n            vm.css.signupSMSSendButton = false;\n\n            var timer = $interval(function () {\n                vm.css.signupSMSCountDown = vm.css.signupSMSCountDown - 1;\n                if (vm.css.signupSMSCountDown <=0) {\n                    $interval.cancel(timer);\n                    vm.css.signupSMSCountDown = 60;\n                    vm.css.signupSMSSendButton = true;\n                }\n            }, 1000);\n\n            User.getSMS(vm.data.signupUser.mobile, 'signup').then(function(data){\n                console.log(data.data);\n            }).catch(function(err){\n                Logger.errorXHR(err);\n            });\n        }\n\n\n        function signupSMS(form){\n\n            if (form.$invalid) {\n                form.smscode.$setDirty();\n                form.username.$setDirty();\n                form.password.$setDirty();\n                return ;\n            }\n\n            User.signup(vm.data.signupUser).then(function(data){\n                console.log(data);\n            }).catch(function(err){\n                if (err && err.data && err.data.code){\n                    vm.css.loginFormErrorMessage = err.data.code;\n                }\n                Logger.errorXHR(err);\n            });\n        }\n\n\n\n        /**********  App Init  **********/\n\n        function appInit (){\n\n        }\n\n        function appReRun(){\n\n        }\n\n        appInit();\n\n    }\n\n\n\n})();\n\n\n\n(function() {\n    'use strict';\n\n\n    /* Controllers */\n\n    angular.module('websiteApp').controller('ogController', ogController);\n\n    ogController.$inject = ['$window', '$document'];\n\n    function ogController($window, $document) {\n\n        /* jshint validthis: true */\n        var vm = this;\n\n        /**********  Data Binding For CSS style   **********/\n        vm.css = {\n            loginFormErrorMessage : 0\n        };\n\n\n        /**********  Data Binding For ViewModel  **********/\n        vm.data = {\n            colorList : [\n                { name:'Web_design_and_authoring', style:'theme_0'},\n                { name:'power_user_computing', style:'theme_1'},\n                { name:'in_a_nutshell_and_desktop_references', style:'theme_2'},\n                { name:'java', style:'theme_3'},\n                { name:'linux', style:'theme_4'},\n                { name:'macintosh', style:'theme_5'},\n                { name:'oracle', style:'theme_6'},\n                { name:'perl', style:'theme_7'},\n                { name:'security', style:'theme_8'},\n                { name:'system_and_network_administration', style:'theme_9'},\n                { name:'unix_c_programming', style:'theme_10'},\n                { name:'unix_text_procsseing', style:'theme_11'},\n                { name:'the_web', style:'theme_12'},\n                { name:'windows_programming', style:'theme_13'},\n                { name:'windows_nt_system_administration', style:'theme_14'},\n                { name:'xml', style:'theme_15'},\n                { name:'mobile', style:'theme_16'}\n\n            ],\n\n            currentColor : { name:'Web_design_and_authoring', style:'theme_0'},\n            animalList : [\n                { name:\"Grizzly Bear\", style:\"animal_1\", imageUrl:\"/website/src/css/images/og/01.png\"},\n                { name:\"Cat\", style:\"animal_2\", imageUrl:\"/website/src/css/images/og/02.png\"},\n                { name:\"Coyote\", style:\"animal_3\", imageUrl:\"/website/src/css/images/og/03.png\"},\n                { name:\"Cow\", style:\"animal_4\", imageUrl:\"/website/src/css/images/og/04.png\"},\n                { name:\"Horse\", style:\"animal_5\", imageUrl:\"/website/src/css/images/og/05.png\"},\n                { name:\"Deer\", style:\"animal_6\", imageUrl:\"/website/src/css/images/og/06.png\"},\n                { name:\"Baboon\", style:\"animal_7\", imageUrl:\"/website/src/css/images/og/07.png\"},\n                { name:\"Wombat\", style:\"animal_8\", imageUrl:\"/website/src/css/images/og/08.png\"},\n                { name:\"Duckbill\", style:\"animal_9\", imageUrl:\"/website/src/css/images/og/09.png\"},\n                { name:\"Bat\", style:\"animal_10\", imageUrl:\"/website/src/css/images/og/10.png\"},\n                { name:\"Pelican\", style:\"animal_11\", imageUrl:\"/website/src/css/images/og/11.png\"},\n                { name:\"Shoebill\", style:\"animal_12\", imageUrl:\"/website/src/css/images/og/12.png\"},\n                { name:\"Raven\", style:\"animal_13\", imageUrl:\"/website/src/css/images/og/13.png\"},\n                { name:\"Wrybill\", style:\"animal_14\", imageUrl:\"/website/src/css/images/og/14.png\"},\n                { name:\"Ostrich\", style:\"animal_15\", imageUrl:\"/website/src/css/images/og/15.png\"},\n                { name:\"Chameleon\", style:\"animal_16\", imageUrl:\"/website/src/css/images/og/16.png\"},\n                { name:\"Rrog\", style:\"animal_17\", imageUrl:\"/website/src/css/images/og/17.png\"},\n                { name:\"Axolotl\", style:\"animal_18\", imageUrl:\"/website/src/css/images/og/18.png\"},\n                { name:\"Snake\", style:\"animal_19\", imageUrl:\"/website/src/css/images/og/19.png\"},\n                { name:\"Leopard Gecko\", style:\"animal_20\", imageUrl:\"/website/src/css/images/og/20.png\"},\n                { name:\"Silurus\", style:\"animal_21\", imageUrl:\"/website/src/css/images/og/21.png\"},\n                { name:\"John Dory\", style:\"animal_22\", imageUrl:\"/website/src/css/images/og/22.png\"},\n                { name:\"Histrio\", style:\"animal_23\", imageUrl:\"/website/src/css/images/og/23.png\"},\n                { name:\"Lamprey\", style:\"animal_24\", imageUrl:\"/website/src/css/images/og/24.png\"},\n                { name:\"Sunfish\", style:\"animal_25\", imageUrl:\"/website/src/css/images/og/25.png\"},\n                { name:\"Butterfly\", style:\"animal_26\", imageUrl:\"/website/src/css/images/og/26.png\"},\n                { name:\"Moth\", style:\"animal_27\", imageUrl:\"/website/src/css/images/og/27.png\"},\n                { name:\"Drgnfly\", style:\"animal_281\", imageUrl:\"/website/src/css/images/og/28.png\"},\n                { name:\"Flea\", style:\"animal_29\", imageUrl:\"/website/src/css/images/og/29.png\"},\n                { name:\"Stinkbug\", style:\"animal_30\", imageUrl:\"/website/src/css/images/og/30.png\"},\n                { name:\"Spider\", style:\"animal_31\", imageUrl:\"/website/src/css/images/og/31.png\"},\n                { name:\"Scorpion\", style:\"animal_32\", imageUrl:\"/website/src/css/images/og/32.png\"},\n                { name:\"Crab\", style:\"animal_33\", imageUrl:\"/website/src/css/images/og/33.png\"},\n                { name:\"Lobster\", style:\"animal_34\", imageUrl:\"/website/src/css/images/og/34.png\"},\n                { name:\"King Crab\", style:\"animal_35\", imageUrl:\"/website/src/css/images/og/35.png\"},\n                { name:\"Earshell\", style:\"animal_36\", imageUrl:\"/website/src/css/images/og/36.png\"},\n                { name:\"Sea Cucumber\", style:\"animal_37\", imageUrl:\"/website/src/css/images/og/37.png\"},\n                { name:\"Jellyfish\", style:\"animal_38\", imageUrl:\"/website/src/css/images/og/38.png\"},\n                { name:\"Astraea\", style:\"animal_39\", imageUrl:\"/website/src/css/images/og/39.png\"},\n                { name:\"Mushroom\", style:\"animal_40\", imageUrl:\"/website/src/css/images/og/40.png\"},\n            ],\n            currentAnimal : { name:'Cow', style:\"animal_4\", imageUrl:\"/website/src/css/images/og/04.png\"}\n        };\n\n\n        /**********  Event Center  **********/\n        vm.event = {\n            clickColor: clickColor,\n            clickAnimal: clickAnimal,\n            screenShot: screenShot\n        };\n\n\n        function clickColor(color){\n            console.log(color);\n            vm.data.currentColor = color;\n        }\n\n        function clickAnimal(animal){\n            console.log(animal);\n            vm.data.currentAnimal = animal;\n        }\n\n        function screenShot(){\n            var myElement = $('.book_cover');\n            html2canvas(myElement, {\n                onrendered: function(canvas) {\n                    var myImage = canvas.toDataURL(\"image/png\");\n                    window.open(myImage);\n\n                    // document.body.appendChild(canvas);\n                }\n            });\n        }\n\n\n\n        /**********  App Init  **********/\n\n        function appInit (){\n\n        }\n\n        function appReRun(){\n\n        }\n\n        appInit();\n\n    }\n\n\n\n})();\n\n\n(function() {\n  'use strict';\n\n\n  /* Services Model */\n\n\n// Demonstrate how to register services\n// In this case it is a simple value service.\n\n  angular.module('websiteApp').factory('Logger', loggerService);\n\n  loggerService.$inject = ['$log'];\n\n  function loggerService($log) {\n      return {\n          debug: debug,\n          errorXHR: errorXHR\n      };\n\n      function errorXHR(err) {\n          $log.error('XHR Failed. ' );\n          $log.debug(err.data );\n      }\n\n      function debug(info) {\n          $log.debug('Debug Info : ' + info );\n          return info;\n      }\n\n  }\n})();\n\n\n(function() {\n  'use strict';\n\n\n  /* Services Model */\n\n\n// Demonstrate how to register services\n// In this case it is a simple value service.\n\n  angular.module('websiteApp').factory('User', userService);\n\n  userService.$inject = ['$http', '$localStorage'];\n\n  function userService($http, $localStorage) {\n      return {\n          login: login,\n          logout: logout,\n          getSMS: getSMS,\n          signup: signup,\n      };\n\n      function login(user) {\n          return $http.post('/api/user/login', user).then(getUserLogin);\n            //   .catch(Logger.errorXHR);\n\n          function getUserLogin(response) {\n              if (response.data && response.data.accessToken) {\n                    $localStorage.access_token = response.data.accessToken;\n                }\n\n              return response.data;\n          }\n      }\n\n      function logout() {\n          var token = $localStorage.access_token || '';\n          return $http.post('/api/user/logout', {accessToken:token});\n      }\n\n      function getSMS(mobile, messageType) {\n          messageType = messageType || 'signup';\n          return $http.post('/api/user/verify/sms', {mobile : mobile, messageType:messageType});\n      }\n\n      function signup(user) {\n          return $http.post('/api/user/signup', {\n              email    : user.email || '',\n              mobile   : user.mobile || '',\n              smscode  : user.smscode || '',\n              username : user.username,\n              password : user.password\n          });\n      }\n  }\n})();\n\n\n\n(function() {\n    'use strict';\n\n\n    /* Directives */\n\n    /* recommended */\n    /* demo14.directive.js */\n\n    /**\n     * @desc order directive that is specific to the order module at a company named Acme\n     * @example <div my-nav-bar></div>\n     */\n\n\n    angular.module('websiteApp').directive('myNavBar', [myNavBarComponent]);\n\n\n    function myNavBarComponent() {\n\n        var directive = {\n            restrict: 'EA',\n            templateUrl: '/angulardemo/js/component/demo/demo14_tpl.html',\n            scope: {\n                menulist : '='\n            },\n\n            link: linkFunc\n        };\n\n        return directive;\n\n\n        function linkFunc (scope, element, attrs) {\n            scope.css = {\n                currentEditMenuIndex : -1,\n                currentSelectMenuIndex : -1,\n                currentHoverMenuIndex : -1,\n                showAddNewMenuForm : false\n            };\n            scope.data = {\n                newMenu : {\n                    id : scope.menulist[scope.menulist.length-1].id + 1,\n                    name : ''\n                }\n            };\n\n\n            scope.addMenu = function(){\n                scope.css.showAddNewMenuForm = true;\n            };\n            scope.saveNewMenu = function(){\n                scope.data.newMenu.id =scope.menulist[scope.menulist.length-1].id + 1;\n                scope.menulist.push(angular.copy(scope.data.newMenu));\n                scope.css.showAddNewMenuForm = false;\n            };\n\n\n            scope.editMenu = function(index){\n                scope.css.currentEditMenuIndex = index;\n\n            };\n            scope.saveEditMenu = function(){\n                scope.css.currentEditMenuIndex = -1;\n            };\n\n\n            scope.deleteMenu = function(index){\n\n                scope.menulist.splice(index, 1);\n                scope.css.currentEditMenuIndex = -1;\n\n            };\n            scope.deleteMenu2 = function(menu){\n\n                for(var i = scope.menulist.length-1; i >= 0; i--){\n                    if (scope.menulist[i].id === menu.id) {\n                        scope.menulist.splice(i, 1);\n                        break;\n                    }\n                }\n\n                scope.css.currentEditMenuIndex = -1;\n            };\n\n        }\n\n    }\n\n\n\n})();\n\n\n\n(function() {\n    'use strict';\n\n\n    /* Directives */\n\n    /* recommended */\n    /* demo14.directive.js */\n\n    /**\n     * @desc order directive that is specific to the order module at a company named Acme\n     * @example <div my-nav-bar></div>\n     */\n\n\n    angular.module('websiteApp').directive('dragbox', dragBox);\n    dragBox.$inject = ['$document', '$interval'];\n\n    function dragBox($document) {\n\n        var directive = {\n            restrict: 'A',\n\n            link: linkFunc\n        };\n\n        return directive;\n\n\n        function linkFunc (scope, element, attr) {\n            var startX = 0, startY = 0, x = 0, y = 0, limitleft = 0, limitright = 0;\n            var width = 0, height = 0;\n\n            x = Number(attr.left);\n            y = Number(attr.top);\n            limitleft = Number(attr.limitleft);\n            limitright = Number(attr.limitright);\n\n            width = Number(attr.maxwidth);\n\n            element.css({\n                position: 'relative',\n                // border: '1px solid red',\n                // backgroundColor: 'lightgrey'\n            });\n\n\n\n            element.on('mousedown', function(event) {\n                // Prevent default dragging of selected content\n                event.preventDefault();\n                console.log(event.pageX, event.pageY);\n                // console.log(element.offset().left, element.offset().top, element.offset().bottom);\n                // console.log(element.position().left, element.position().top, element.position().bottom);\n                startX = event.pageX - x;\n                startY = event.pageY - y;\n                $document.on('mousemove', mousemove);\n                $document.on('mouseup', mouseup);\n\n            });\n\n            function mousemove(event) {\n                y = event.pageY - startY;\n                x = event.pageX - startX;\n\n                console.log(event.pageX, event.pageY, x, y);\n                if (x < limitleft) x = limitleft;\n                if (x > limitright) x = limitright;\n\n                element.css({\n                    top: y + 'px',\n                    left:  x + 'px'\n                });\n            }\n\n            function mouseup() {\n                $document.off('mousemove', mousemove);\n                $document.off('mouseup', mouseup);\n            }\n\n\n            element.on('mousewheel', mousescroll);\n            function mousescroll(evt) {\n                evt.preventDefault();\n            //    console.log(evt.offsetX + ':' + evt.offsetY, evt.originalEvent.wheelDelta);\n\n                if (evt.originalEvent.wheelDelta > 0) {\n                    width++;\n                } else {\n                    width--;\n                }\n\n                element.find('img').css({\n                    maxWidth: width + 'px'\n                });\n\n            }\n        }\n    }\n\n\n})();\n\n\n\n(function() {\n    'use strict';\n\n\n    /* Directives */\n\n\n    angular.module('websiteApp').directive('editMenu', function () {\n        return {\n            restrict: 'EA',\n            templateUrl: 'tpl_demo10_edit.html',\n            scope: {\n                menulist : '=datalistmodel',\n                menu : '=datamodel',\n                index : '=index'\n            },\n\n            link: function (scope, element, attrs) {\n                scope.cssshowmenu = true;\n                scope.editMenuButton = function(){\n                    scope.cssshowmenu = false;\n                };\n\n                scope.saveEditMenuButton = function(){\n                    scope.cssshowmenu = true;\n                };\n                scope.deleteMenuButton = function(){\n                    scope.cssshowmenu = true;\n\n                    for(var i = scope.menulist.length-1; i >= 0; i--){\n                        if (scope.menulist[i].id == scope.menu.id) {\n//                            console.log(i, scope.menulist[i].id, scope.menu.id, scope.menulist);\n                            scope.menulist.splice(i, 1);\n                            element.remove();\n                            break;\n                        }\n                    }\n                };\n\n\n            }\n        };\n    });\n\n\n    angular.module('angularDemoApp').directive('addMenu', function () {\n        return {\n            restrict: 'EA',\n            templateUrl: 'tpl_demo10_add.html',\n            scope: false,\n            link: function (scope, elem, attrs) {\n                scope.maxmenu = Number(attrs.maxmemu);\n                console.log(Number(attrs.maxmemu));\n                scope.newmemu = {id:100, name:\"\" };\n                scope.cssshowmenu = true;\n                scope.cssshowbox = true;\n\n                if(scope.menulist.length >= scope.maxmenu){\n                    scope.cssshowbox = false;\n                }\n\n                scope.addMenuButton = function(){\n                    scope.cssshowmenu = false;\n                };\n\n                scope.saveNewMenuButton = function(){\n                    scope.cssshowmenu = true;\n                    scope.menulist.push(angular.copy(scope.newmemu));\n                    if(scope.menulist.length >= scope.maxmenu){\n                        scope.cssshowbox = false;\n                    }\n                };\n\n            }\n        };\n    });\n\n})();\n"],"sourceRoot":"/source/"}