!function(){"use strict";angular.module("websiteApp",["ngStorage"])}(),function(){"use strict";function e(e,n,s){function t(e){return s.access_token&&(e.headers["X-Access-Token"]="Bearer "+s.access_token),e}function i(n){return 401==n.status,403==n.status,e.reject(n)}return{request:t,responseError:i}}angular.module("websiteApp").value("version","0.1"),angular.module("websiteApp").factory("commonInterceptor",e),e.$inject=["$q","$location","$localStorage"],angular.module("websiteApp").config(["$httpProvider","$compileProvider",function(e,n){e.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",e.defaults.headers.common.Accept="application/json, text/javascript",e.interceptors.push("commonInterceptor"),n.debugInfoEnabled(!1)}])}(),function(){"use strict";angular.module("websiteApp").filter("interpolate",["version",function(e){return function(n){return String(n).replace(/\%VERSION\%/gm,e)}}])}(),function(){"use strict";function e(e,n,s,t){function i(n){return n.$invalid?(n.username.$setDirty(),void n.password.$setDirty()):void t.login(c.data.newUser).then(function(n){console.log(n),e.location.href="/"})["catch"](function(e){e&&e.data&&e.data.code&&(c.css.loginFormErrorMessage=e.data.code),s.errorXHR(e)})}function a(){t.logout().then(function(n){console.log(n),e.location.href="/"})["catch"](function(e){s.errorXHR(e)})}function o(e){c.css.signupType=e}function r(e){if(e.mobile.$invalid)return void e.mobile.$setDirty();c.css.signupFirstTime=!1,c.css.signupSMSSendButton=!1;var i=n(function(){c.css.signupSMSCountDown=c.css.signupSMSCountDown-1,c.css.signupSMSCountDown<=0&&(n.cancel(i),c.css.signupSMSCountDown=60,c.css.signupSMSSendButton=!0)},1e3);t.getSMS(c.data.signupUser.mobile,"signup").then(function(e){console.log(e.data)})["catch"](function(e){s.errorXHR(e)})}function m(e){return e.$invalid?(e.smscode.$setDirty(),e.username.$setDirty(),void e.password.$setDirty()):void t.signup(c.data.signupUser).then(function(e){console.log(e)})["catch"](function(e){e&&e.data&&e.data.code&&(c.css.loginFormErrorMessage=e.data.code),s.errorXHR(e)})}function l(){}var c=this;c.css={loginFormErrorMessage:0,signupType:"mobile",signupFirstTime:!0,signupSMSCountDown:60,signupSMSSendButton:!0},c.data={newUser:{username:"",password:""},signupUser:{email:"",mobile:"",smscode:"",username:"",password:""}},c.event={login:i,logout:a,changeSignupType:o,getSignupSMS:r,signupSMS:m},l()}angular.module("websiteApp").controller("loginController",e),e.$inject=["$window","$interval","Logger","User"]}(),function(){"use strict";function e(e,n){function s(e){console.log(e),o.data.currentColor=e}function t(e){console.log(e),o.data.currentAnimal=e}function i(){var e=$(".book_cover");html2canvas(e,{onrendered:function(e){var n=e.toDataURL("image/png");window.open(n)}})}function a(){}var o=this;o.css={loginFormErrorMessage:0},o.data={colorList:[{name:"Web_design_and_authoring",style:"theme_0"},{name:"power_user_computing",style:"theme_1"},{name:"in_a_nutshell_and_desktop_references",style:"theme_2"},{name:"java",style:"theme_3"},{name:"linux",style:"theme_4"},{name:"macintosh",style:"theme_5"},{name:"oracle",style:"theme_6"},{name:"perl",style:"theme_7"},{name:"security",style:"theme_8"},{name:"system_and_network_administration",style:"theme_9"},{name:"unix_c_programming",style:"theme_10"},{name:"unix_text_procsseing",style:"theme_11"},{name:"the_web",style:"theme_12"},{name:"windows_programming",style:"theme_13"},{name:"windows_nt_system_administration",style:"theme_14"},{name:"xml",style:"theme_15"},{name:"mobile",style:"theme_16"}],currentColor:{name:"Web_design_and_authoring",style:"theme_0"},animalList:[{name:"Grizzly Bear",style:"animal_1",imageUrl:"/website/src/css/images/og/01.png"},{name:"Cat",style:"animal_2",imageUrl:"/website/src/css/images/og/02.png"},{name:"Coyote",style:"animal_3",imageUrl:"/website/src/css/images/og/03.png"},{name:"Cow",style:"animal_4",imageUrl:"/website/src/css/images/og/04.png"},{name:"Horse",style:"animal_5",imageUrl:"/website/src/css/images/og/05.png"},{name:"Deer",style:"animal_6",imageUrl:"/website/src/css/images/og/06.png"},{name:"Baboon",style:"animal_7",imageUrl:"/website/src/css/images/og/07.png"},{name:"Wombat",style:"animal_8",imageUrl:"/website/src/css/images/og/08.png"},{name:"Duckbill",style:"animal_9",imageUrl:"/website/src/css/images/og/09.png"},{name:"Bat",style:"animal_10",imageUrl:"/website/src/css/images/og/10.png"},{name:"Pelican",style:"animal_11",imageUrl:"/website/src/css/images/og/11.png"},{name:"Shoebill",style:"animal_12",imageUrl:"/website/src/css/images/og/12.png"},{name:"Raven",style:"animal_13",imageUrl:"/website/src/css/images/og/13.png"},{name:"Wrybill",style:"animal_14",imageUrl:"/website/src/css/images/og/14.png"},{name:"Ostrich",style:"animal_15",imageUrl:"/website/src/css/images/og/15.png"},{name:"Chameleon",style:"animal_16",imageUrl:"/website/src/css/images/og/16.png"},{name:"Rrog",style:"animal_17",imageUrl:"/website/src/css/images/og/17.png"},{name:"Axolotl",style:"animal_18",imageUrl:"/website/src/css/images/og/18.png"},{name:"Snake",style:"animal_19",imageUrl:"/website/src/css/images/og/19.png"},{name:"Leopard Gecko",style:"animal_20",imageUrl:"/website/src/css/images/og/20.png"},{name:"Silurus",style:"animal_21",imageUrl:"/website/src/css/images/og/21.png"},{name:"John Dory",style:"animal_22",imageUrl:"/website/src/css/images/og/22.png"},{name:"Histrio",style:"animal_23",imageUrl:"/website/src/css/images/og/23.png"},{name:"Lamprey",style:"animal_24",imageUrl:"/website/src/css/images/og/24.png"},{name:"Sunfish",style:"animal_25",imageUrl:"/website/src/css/images/og/25.png"},{name:"Butterfly",style:"animal_26",imageUrl:"/website/src/css/images/og/26.png"},{name:"Moth",style:"animal_27",imageUrl:"/website/src/css/images/og/27.png"},{name:"Drgnfly",style:"animal_281",imageUrl:"/website/src/css/images/og/28.png"},{name:"Flea",style:"animal_29",imageUrl:"/website/src/css/images/og/29.png"},{name:"Stinkbug",style:"animal_30",imageUrl:"/website/src/css/images/og/30.png"},{name:"Spider",style:"animal_31",imageUrl:"/website/src/css/images/og/31.png"},{name:"Scorpion",style:"animal_32",imageUrl:"/website/src/css/images/og/32.png"},{name:"Crab",style:"animal_33",imageUrl:"/website/src/css/images/og/33.png"},{name:"Lobster",style:"animal_34",imageUrl:"/website/src/css/images/og/34.png"},{name:"King Crab",style:"animal_35",imageUrl:"/website/src/css/images/og/35.png"},{name:"Earshell",style:"animal_36",imageUrl:"/website/src/css/images/og/36.png"},{name:"Sea Cucumber",style:"animal_37",imageUrl:"/website/src/css/images/og/37.png"},{name:"Jellyfish",style:"animal_38",imageUrl:"/website/src/css/images/og/38.png"},{name:"Astraea",style:"animal_39",imageUrl:"/website/src/css/images/og/39.png"},{name:"Mushroom",style:"animal_40",imageUrl:"/website/src/css/images/og/40.png"}],currentAnimal:{name:"Cow",style:"animal_4",imageUrl:"/website/src/css/images/og/04.png"}},o.event={clickColor:s,clickAnimal:t,screenShot:i},a()}angular.module("websiteApp").controller("ogController",e),e.$inject=["$window","$document"]}(),function(){"use strict";function e(e){function n(n){e.error("XHR Failed. "),e.debug(n.data)}function s(n){return e.debug("Debug Info : "+n),n}return{debug:s,errorXHR:n}}angular.module("websiteApp").factory("Logger",e),e.$inject=["$log"]}(),function(){"use strict";function e(e,n){function s(s){function t(e){return e.data&&e.data.accessToken&&(n.access_token=e.data.accessToken),e.data}return e.post("/api/user/login",s).then(t)}function t(){var s=n.access_token||"";return e.post("/api/user/logout",{accessToken:s})}function i(n,s){return s=s||"signup",e.post("/api/user/verify/sms",{mobile:n,messageType:s})}function a(n){return e.post("/api/user/signup",{email:n.email||"",mobile:n.mobile||"",smscode:n.smscode||"",username:n.username,password:n.password})}return{login:s,logout:t,getSMS:i,signup:a}}angular.module("websiteApp").factory("User",e),e.$inject=["$http","$localStorage"]}(),function(){"use strict";function e(){function e(e,n,s){e.css={currentEditMenuIndex:-1,currentSelectMenuIndex:-1,currentHoverMenuIndex:-1,showAddNewMenuForm:!1},e.data={newMenu:{id:e.menulist[e.menulist.length-1].id+1,name:""}},e.addMenu=function(){e.css.showAddNewMenuForm=!0},e.saveNewMenu=function(){e.data.newMenu.id=e.menulist[e.menulist.length-1].id+1,e.menulist.push(angular.copy(e.data.newMenu)),e.css.showAddNewMenuForm=!1},e.editMenu=function(n){e.css.currentEditMenuIndex=n},e.saveEditMenu=function(){e.css.currentEditMenuIndex=-1},e.deleteMenu=function(n){e.menulist.splice(n,1),e.css.currentEditMenuIndex=-1},e.deleteMenu2=function(n){for(var s=e.menulist.length-1;s>=0;s--)if(e.menulist[s].id===n.id){e.menulist.splice(s,1);break}e.css.currentEditMenuIndex=-1}}var n={restrict:"EA",templateUrl:"/angulardemo/js/component/demo/demo14_tpl.html",scope:{menulist:"="},link:e};return n}angular.module("websiteApp").directive("myNavBar",[e])}(),function(){"use strict";function e(e){function n(n,s,t){function i(e){c=e.pageY-m,l=e.pageX-r,console.log(e.pageX,e.pageY,l,c),u>l&&(l=u),l>g&&(l=g),s.css({top:c+"px",left:l+"px"})}function a(){e.off("mousemove",i),e.off("mouseup",a)}function o(e){e.preventDefault(),e.originalEvent.wheelDelta>0?p++:p--,s.find("img").css({maxWidth:p+"px"})}var r=0,m=0,l=0,c=0,u=0,g=0,p=0;l=Number(t.left),c=Number(t.top),u=Number(t.limitleft),g=Number(t.limitright),p=Number(t.maxwidth),s.css({position:"relative"}),s.on("mousedown",function(n){n.preventDefault(),console.log(n.pageX,n.pageY),r=n.pageX-l,m=n.pageY-c,e.on("mousemove",i),e.on("mouseup",a)}),s.on("mousewheel",o)}var s={restrict:"A",link:n};return s}angular.module("websiteApp").directive("dragbox",e),e.$inject=["$document","$interval"]}(),function(){"use strict";angular.module("websiteApp").directive("editMenu",function(){return{restrict:"EA",templateUrl:"tpl_demo10_edit.html",scope:{menulist:"=datalistmodel",menu:"=datamodel",index:"=index"},link:function(e,n,s){e.cssshowmenu=!0,e.editMenuButton=function(){e.cssshowmenu=!1},e.saveEditMenuButton=function(){e.cssshowmenu=!0},e.deleteMenuButton=function(){e.cssshowmenu=!0;for(var s=e.menulist.length-1;s>=0;s--)if(e.menulist[s].id==e.menu.id){e.menulist.splice(s,1),n.remove();break}}}}}),angular.module("angularDemoApp").directive("addMenu",function(){return{restrict:"EA",templateUrl:"tpl_demo10_add.html",scope:!1,link:function(e,n,s){e.maxmenu=Number(s.maxmemu),console.log(Number(s.maxmemu)),e.newmemu={id:100,name:""},e.cssshowmenu=!0,e.cssshowbox=!0,e.menulist.length>=e.maxmenu&&(e.cssshowbox=!1),e.addMenuButton=function(){e.cssshowmenu=!1},e.saveNewMenuButton=function(){e.cssshowmenu=!0,e.menulist.push(angular.copy(e.newmemu)),e.menulist.length>=e.maxmenu&&(e.cssshowbox=!1)}}}})}();
//# sourceMappingURL=app.min.js.map
