!function(s){"use strict";function e(e,n,t){t(e,n)}function n(e,n,t){}function a(e){return{vars:Object.create(null),prev:e}}s.simple=function(e,i,a,n){a=a||s,function e(n,t,o){var o=o||n.type,r=i[o];r&&r(n,t),a[o](n,t,e)}(e,n)},s.recursive=function(e,n,t,o){var r=s.make(t,o);!function e(n,t,o){r[o||n.type](n,t,e)}(e,n)},s.make=function(e,n){var t,o={};for(t in n=n||s)o[t]=(e.hasOwnProperty(t)?e:n)[t];return o},s.Program=s.BlockStatement=function(e,n,t){for(var o=0;o<e.body.length;++o)t(e.body[o],n,"Statement")},s.Statement=e,s.EmptyStatement=n,s.ExpressionStatement=function(e,n,t){t(e.expression,n,"Expression")},s.IfStatement=function(e,n,t){t(e.test,n,"Expression"),t(e.consequent,n,"Statement"),e.alternate&&t(e.alternate,n,"Statement")},s.LabeledStatement=function(e,n,t){t(e.body,n,"Statement")},s.BreakStatement=s.ContinueStatement=n,s.WithStatement=function(e,n,t){t(e.object,n,"Expression"),t(e.body,n,"Statement")},s.SwitchStatement=function(e,n,t){t(e.discriminant,n,"Expression");for(var o=0;o<e.cases.length;++o){var r=e.cases[o];r.test&&t(r.test,n,"Expression");for(var i=0;i<r.consequent.length;++i)t(r.consequent[i],n,"Statement")}},s.ReturnStatement=function(e,n,t){e.argument&&t(e.argument,n,"Expression")},s.ThrowStatement=function(e,n,t){t(e.argument,n,"Expression")},s.TryStatement=function(e,n,t){t(e.block,n,"Statement");for(var o=0;o<e.handlers.length;++o)t(e.handlers[o].body,n,"ScopeBody");e.finalizer&&t(e.finalizer,n,"Statement")},s.WhileStatement=function(e,n,t){t(e.test,n,"Expression"),t(e.body,n,"Statement")},s.DoWhileStatement=s.WhileStatement,s.ForStatement=function(e,n,t){e.init&&t(e.init,n,"ForInit"),e.test&&t(e.test,n,"Expression"),e.update&&t(e.update,n,"Expression"),t(e.body,n,"Statement")},s.ForInStatement=function(e,n,t){t(e.left,n,"ForInit"),t(e.right,n,"Expression"),t(e.body,n,"Statement")},s.ForInit=function(e,n,t){"VariableDeclaration"==e.type?t(e,n):t(e,n,"Expression")},s.DebuggerStatement=n,s.FunctionDeclaration=function(e,n,t){t(e,n,"Function")},s.VariableDeclaration=function(e,n,t){for(var o=0;o<e.declarations.length;++o){var r=e.declarations[o];r.init&&t(r.init,n,"Expression")}},s.Function=function(e,n,t){t(e.body,n,"ScopeBody")},s.ScopeBody=function(e,n,t){t(e,n,"Statement")},s.Expression=e,s.ThisExpression=n,s.ArrayExpression=function(e,n,t){for(var o=0;o<e.elements.length;++o){var r=e.elements[o];r&&t(r,n,"Expression")}},s.ObjectExpression=function(e,n,t){for(var o=0;o<e.properties.length;++o)t(e.properties[o].value,n,"Expression")},s.FunctionExpression=s.FunctionDeclaration,s.SequenceExpression=function(e,n,t){for(var o=0;o<e.expressions.length;++o)t(e.expressions[o],n,"Expression")},s.UnaryExpression=s.UpdateExpression=function(e,n,t){t(e.argument,n,"Expression")},s.BinaryExpression=s.AssignmentExpression=s.LogicalExpression=function(e,n,t){t(e.left,n,"Expression"),t(e.right,n,"Expression")},s.ConditionalExpression=function(e,n,t){t(e.test,n,"Expression"),t(e.consequent,n,"Expression"),t(e.alternate,n,"Expression")},s.NewExpression=s.CallExpression=function(e,n,t){if(t(e.callee,n,"Expression"),e.arguments)for(var o=0;o<e.arguments.length;++o)t(e.arguments[o],n,"Expression")},s.MemberExpression=function(e,n,t){t(e.object,n,"Expression"),e.computed&&t(e.property,n,"Expression")},s.Identifier=s.Literal=n,s.scopeVisitor=s.make({Function:function(e,n,t){for(var o,r=a(n),i=0;i<e.params.length;++i)r.vars[e.params[i].name]={type:"argument",node:e.params[i]};e.id&&(((o="FunctionDeclaration"==e.type)?n:r).vars[e.id.name]={type:o?"function":"function name",node:e.id}),t(e.body,r,"ScopeBody")},TryStatement:function(e,n,t){t(e.block,n,"Statement");for(var o=0;o<e.handlers.length;++o){var r=e.handlers[o],i=a(n);i.vars[r.param.name]={type:"catch clause",node:r.param},t(r.body,i,"ScopeBody")}e.finalizer&&t(e.finalizer,n,"Statement")},VariableDeclaration:function(e,n,t){for(var o=0;o<e.declarations.length;++o){var r=e.declarations[o];n.vars[r.id.name]={type:"var",node:r.id},r.init&&t(r.init,n,"Expression")}}})}("undefined"==typeof exports?acorn.walk={}:exports);