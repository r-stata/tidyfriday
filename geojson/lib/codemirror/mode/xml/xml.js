CodeMirror.defineMode("xml",function(t,e){var a,i,o,l,u,d=t.indentUnit,c=e.multilineTagIndentFactor||1,f=e.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1},s=e.alignCDATA;function m(e,n){function t(t){return(n.tokenize=t)(e,n)}var r=e.next();if("<"!=r)return"&"==r?(e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"))?"atom":"error":(e.eatWhile(/[^&<]/),null);if(e.eat("!"))return e.eat("[")?e.match("CDATA[")?t(p("atom","]]>")):null:e.match("--")?t(p("comment","--\x3e")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),t(function r(o){return function(t,e){for(var n;null!=(n=t.next());){if("<"==n)return e.tokenize=r(o+1),e.tokenize(t,e);if(">"==n){if(1!=o)return e.tokenize=r(o-1),e.tokenize(t,e);e.tokenize=m;break}}return"meta"}}(1))):null;if(e.eat("?"))return e.eatWhile(/[\w\._\-]/),n.tokenize=p("meta","?>"),"meta";var o,r=e.eat("/");for(a="";o=e.eat(/[^\s\u00a0=<>\"\'\/?]/);)a+=o;return a?(i=r?"closeTag":"openTag",n.tokenize=g,"tag"):"error"}function g(t,e){var n,r=t.next();return">"==r||"/"==r&&t.eat(">")?(e.tokenize=m,i=">"==r?"endTag":"selfcloseTag","tag"):"="==r?(i="equals",null):"<"==r?"error":/[\'\"]/.test(r)?(e.tokenize=(n=r,function(t,e){for(;!t.eol();)if(t.next()==n){e.tokenize=g;break}return"string"}),e.tokenize(t,e)):(t.eatWhile(/[^\s\u00a0=<>\"\']/),"word")}function p(n,r){return function(t,e){for(;!t.eol();){if(t.match(r)){e.tokenize=m;break}t.next()}return n}}function n(){for(var t=arguments.length-1;0<=t;t--)o.cc.push(arguments[t])}function h(){return n.apply(null,arguments),!0}function x(){o.context&&(o.context=o.context.prev)}function r(t){var e,r;return"openTag"==t?(o.tagName=a,o.tagStart=l.column(),h(b,(r=o.startOfLine,function(t){var e,n=o.tagName;return o.tagName=o.tagStart=null,"selfcloseTag"==t||"endTag"==t&&f.autoSelfClosers.hasOwnProperty(n.toLowerCase())?k(n.toLowerCase()):"endTag"==t&&(k(n.toLowerCase()),t=n,n=r,e=f.doNotIndent.hasOwnProperty(t)||o.context&&o.context.noIndent,o.context={prev:o.context,tagName:t,indent:o.indented,startOfLine:n,noIndent:e}),h()}))):"closeTag"==t?(t=!1,o.context?o.context.tagName!=a&&(f.implicitlyClosed.hasOwnProperty(o.context.tagName.toLowerCase())&&x(),t=!o.context||o.context.tagName!=a):t=!0,t&&(u="error"),h((e=t,function(t){return e&&(u="error"),"endTag"==t?(x(),h()):(u="error",h(arguments.callee))}))):h()}function k(t){for(var e;;){if(!o.context)return;if(e=o.context.tagName.toLowerCase(),!f.contextGrabbers.hasOwnProperty(e)||!f.contextGrabbers[e].hasOwnProperty(t))return;x()}}function b(t){return"word"==t?(u="attribute",h(w,b)):"endTag"==t||"selfcloseTag"==t?n():(u="error",h(b))}function w(t){return"equals"==t?h(C,b):(f.allowMissing?"word"==t&&(u="attribute"):u="error",("endTag"==t||"selfcloseTag"==t?n:h)())}function C(t){return"string"==t?h(T):("word"==t&&f.allowUnquoted?(u="string",h):(u="error","endTag"==t||"selfCloseTag"==t?n:h))()}function T(t){return"string"==t?h(T):n()}return{startState:function(){return{tokenize:m,cc:[],indented:0,startOfLine:!0,tagName:null,tagStart:null,context:null}},token:function(t,e){if(!e.tagName&&t.sol()&&(e.startOfLine=!0,e.indented=t.indentation()),t.eatSpace())return null;u=i=a=null;var n=e.tokenize(t,e);if(e.type=i,(n||i)&&"comment"!=n)for(o=e,l=t;;)if((e.cc.pop()||r)(i||n))break;return e.startOfLine=!1,u||n},indent:function(t,e,n){var r=t.context;if(t.tokenize!=g&&t.tokenize!=m||r&&r.noIndent)return n?n.match(/^(\s*)/)[0].length:0;if(t.tagName)return t.tagStart+d*c;if(s&&/<!\[CDATA\[/.test(e))return 0;for(r&&/^<\//.test(e)&&(r=r.prev);r&&!r.startOfLine;)r=r.prev;return r?r.indent+d:0},electricChars:"/",blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:e.htmlMode?"html":"xml"}}),CodeMirror.defineMIME("text/xml","xml"),CodeMirror.defineMIME("application/xml","xml"),CodeMirror.mimeModes.hasOwnProperty("text/html")||CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:!0});