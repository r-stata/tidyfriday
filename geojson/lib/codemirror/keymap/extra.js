!function(){"use strict";var p=CodeMirror.Pos;function n(l,t){var c=l.getCursor("head"),s=l.getCursor("anchor");l.operation(function(){e=l,n=Math.min(c.line,s.line),i=Math.max(c.line,s.line);var e,n,i,o,r,a=!(a=t)||i<n?0:(o=e.clipPos(p(n,0)),i=e.clipPos(p(i)),r=e.getRange(o,i),n<=e.firstLine()?e.replaceRange("",o,p(i.line+1,0)):e.replaceRange("",p(o.line-1),i),(n=o.line+a)<=e.firstLine()?(e.replaceRange(r+"\n",p(n,0)),e.firstLine()-o.line):(i=e.clipPos(p(n-1)),e.replaceRange("\n"+r,i),i.line+1-o.line));l.setSelection(p(s.line+a,s.ch),p(c.line+a,c.ch))})}CodeMirror.commands.moveLinesUp=function(e){n(e,-1)},CodeMirror.commands.moveLinesDown=function(e){n(e,1)},CodeMirror.keyMap.default["Alt-Up"]="moveLinesUp",CodeMirror.keyMap.default["Alt-Down"]="moveLinesDown"}();