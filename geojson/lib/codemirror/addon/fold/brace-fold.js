CodeMirror.braceRangeFinder=function(o,t){var l,a=t.line,f=o.getLine(a);function r(r){for(var e=t.ch,n=0;;){var i=f.lastIndexOf(r,e-1);if(-1==i){if(1==n)break;n=1,e=f.length}else{if(1==n&&i<t.ch)break;if(l=o.getTokenAt(CodeMirror.Pos(a,i+1)).type,!/^(comment|string)/.test(l))return i+1;e=i-1}}}var e="{",n="}",i=r("{");if(null==i&&(n="]",i=r(e="[")),null!=i){var s,d,u=1,g=o.lastLine();r:for(var v=a;v<=g;++v)for(var C=o.getLine(v),M=v==a?i:0;;){var c=C.indexOf(e,M),P=C.indexOf(n,M);if(c<0&&(c=C.length),P<0&&(P=C.length),(M=Math.min(c,P))==C.length)break;if(o.getTokenAt(CodeMirror.Pos(v,M+1)).type==l)if(M==c)++u;else if(!--u){s=v,d=M;break r}++M}if(null!=s&&(a!=s||d!=i))return{from:CodeMirror.Pos(a,i),to:CodeMirror.Pos(s,d)}}},CodeMirror.importRangeFinder=function(t,r){function e(r){if(r<t.firstLine()||r>t.lastLine())return null;var e=t.getTokenAt(CodeMirror.Pos(r,1));if("keyword"!=(e=/\S/.test(e.string)?e:t.getTokenAt(CodeMirror.Pos(r,e.end+1))).type||"import"!=e.string)return null;for(var n=r,i=Math.min(t.lastLine(),r+10);n<=i;++n){var o=t.getLine(n).indexOf(";");if(-1!=o)return{startCh:e.end,end:CodeMirror.Pos(n,o)}}}var n,i=e(r=r.line);if(!i||e(r-1)||(n=e(r-2))&&n.end.line==r-1)return null;for(var o=i.end;;){var l=e(o.line+1);if(null==l)break;o=l.end}return{from:t.clipPos(CodeMirror.Pos(r,i.startCh+1)),to:o}},CodeMirror.includeRangeFinder=function(n,r){function e(r){var e;return r<n.firstLine()||r>n.lastLine()?null:(e=n.getTokenAt(CodeMirror.Pos(r,1)),"meta"==(e=/\S/.test(e.string)?e:n.getTokenAt(CodeMirror.Pos(r,e.end+1))).type&&"#include"==e.string.slice(0,8)?e.start+8:void 0)}var i=e(r=r.line);if(null==i||null!=e(r-1))return null;for(var o=r;;){if(null==e(o+1))break;++o}return{from:CodeMirror.Pos(r,i+1),to:n.clipPos(CodeMirror.Pos(o))}};