!function(){"use strict";var o=CodeMirror.Pos,e="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r=new RegExp("<(/?)(["+e+"][A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*)","g");function i(e,n,t){this.line=n,this.ch=t,this.cm=e,this.text=e.getLine(n)}function c(e,n){e=e.cm.getTokenTypeAt(o(e.line,n));return e&&/\btag\b/.test(e)}function u(e){return!(e.line>=e.cm.lastLine())&&(e.ch=0,e.text=e.cm.getLine(++e.line),1)}function l(e){return!(e.line<=e.cm.firstLine())&&(e.text=e.cm.getLine(--e.line),e.ch=e.text.length,1)}function F(e){for(;;){var n,t=e.text.indexOf(">",e.ch);if(-1==t){if(u(e))continue;return}if(c(e,t+1))return n=-1<(n=e.text.lastIndexOf("/",t))&&!/\S/.test(e.text.slice(n+1,t)),e.ch=t+1,n?"selfClose":"regular";e.ch=t+1}}function a(e){for(;;){var n=e.text.lastIndexOf("<",e.ch-1);if(-1==n){if(l(e))continue;return}if(c(e,n+1)){r.lastIndex=n,e.ch=n;var t=r.exec(e.text);if(t&&t.index==n)return t}else e.ch=n}}function s(e){for(;;){r.lastIndex=e.ch;var n=r.exec(e.text);if(!n){if(u(e))continue;return}if(c(e,n.index+1))return e.ch=n.index+n[0].length,n;e.ch=n.index+1}}function f(e,n){for(var t=[];;){var r,u=s(e),i=e.line,f=e.ch-(u?u[0].length:0);if(!u||!(r=F(e)))return;if("selfClose"!=r)if(u[1]){for(var c=t.length-1;0<=c;--c)if(t[c]==u[2]){t.length=c;break}if(c<0&&(!n||n==u[2]))return{tag:u[2],from:o(i,f),to:o(e.line,e.ch)}}else t.push(u[2])}}function h(e,n){for(var t=[];;){var r=function(e){for(;;){var n,t=e.text.lastIndexOf(">",e.ch-1);if(-1==t){if(l(e))continue;return}if(c(e,t+1))return n=-1<(n=e.text.lastIndexOf("/",t))&&!/\S/.test(e.text.slice(n+1,t)),e.ch=t+1,n?"selfClose":"regular";e.ch=t}}(e);if(!r)return;if("selfClose"==r)a(e);else{var r=e.line,u=e.ch,i=a(e);if(!i)return;if(i[1])t.push(i[2]);else{for(var f=t.length-1;0<=f;--f)if(t[f]==i[2]){t.length=f;break}if(f<0&&(!n||n==i[2]))return{tag:i[2],from:o(e.line,e.ch),to:o(r,u)}}}}}CodeMirror.tagRangeFinder=function(e,n){for(var t=new i(e,n.line,0);;){var r,u=s(t);if(!u||t.line!=n.line||!(r=F(t)))return;if(!u[1]&&"selfClose"!=r)return n=o(t.line,t.ch),(u=f(t,u[2]))&&{from:n,to:u.from}}},CodeMirror.findMatchingTag=function(e,n){var e=new i(e,n.line,n.ch),n=F(e),t=a(e);if(n&&"selfClose"!=n&&t)return(t[1]?h:(F(e),f))(e,t[2])},CodeMirror.findEnclosingTag=function(e,n){for(var t=new i(e,n.line,n.ch);;){var r=h(t);if(!r)break;var u=f(new i(e,n.line,n.ch),r.tag);if(u)return{open:r,close:u}}}}();