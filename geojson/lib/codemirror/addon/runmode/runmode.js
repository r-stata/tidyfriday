CodeMirror.runMode=function(e,r,t,o){for(var c,l,s,n=CodeMirror.getMode(CodeMirror.defaults,r),u=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<9),d=(1==t.nodeType&&(c=o&&o.tabSize||CodeMirror.defaults.tabSize,s=0,(l=t).innerHTML="",t=function(e,r){if("\n"==e)l.appendChild(document.createTextNode(u?"\r":e)),s=0;else{for(var t,o="",n=0;;){var d=e.indexOf("\t",n);if(-1==d){o+=e.slice(n),s+=e.length-n;break}s+=d-n,o+=e.slice(n,d);var a=c-s%c;s+=a;for(var i=0;i<a;++i)o+=" ";n=d+1}(r?((t=l.appendChild(document.createElement("span"))).className="cm-"+r.replace(/ +/g," cm-"),t):l).appendChild(document.createTextNode(o))}}),CodeMirror.splitLines(e)),a=CodeMirror.startState(n),i=0,M=d.length;i<M;++i){i&&t("\n");for(var m=new CodeMirror.StringStream(d[i]);!m.eol();){var f=n.token(m,a);t(m.current(),f,i,m.start),m.start=m.pos}}};