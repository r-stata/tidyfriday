!function(){"undefined"==typeof module?self.queue=n:module.exports=n,n.version="1.0.4";var d=[].slice;function n(t){var u,e,l,o=[],r=0,f=0,i=0,c=null,a=v;function p(){for(;e=r<o.length&&f<t;){var n=r++,u=o[n],l=d.call(u,1);l.push(function(l){return function(n,u){--f,null==c&&(null!=n?(c=n,r=i=NaN,s()):(o[l]=u,--i?e||p():s()))}}(n)),++f,u[0].apply(null,l)}}function s(){null!=c?a(c):l?a(c,o):a.apply(null,[c].concat(o))}return t=t||1/0,u={defer:function(){return c||(o.push(arguments),++i,p()),u},await:function(n){return a=n,l=!1,i||s(),u},awaitAll:function(n){return a=n,l=!0,i||s(),u}}}function v(){}}();