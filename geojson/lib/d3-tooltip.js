!function(t){function u(t){var e=d3.select(t).style("position");return"absolute"===e||"static"===e?{x:t.offsetLeft,y:t.offsetTop,w:t.offsetWidth,h:t.offsetHeight}:{x:0,y:0,w:t.offsetWidth,h:t.offsetHeight}}("object"==typeof t.bootstrap?t.bootstrap:t.bootstrap={}).tooltip=function(){function e(t){t.each(i)}var o=d3.functor(!1),a=d3.functor(!1),r=function(){var t=this.getAttribute("data-original-title");return t||(t=this.getAttribute("title"),this.removeAttribute("title"),this.setAttribute("data-original-title",t)),t},l="mouseenter.tooltip",n="mouseleave.tooltip",c=("top left bottom right".split(" "),d3.functor("top"));function i(){var t=d3.select(this),e=o.apply(this,arguments),i=t.append("div").attr("class","tooltip"),e=(e&&i.classed("fade",!0),i.append("div").attr("class","tooltip-arrow"),i.append("div").attr("class","tooltip-inner"),c.apply(this,arguments));i.classed(e,!0),t.on(l,s),t.on(n,p)}function s(){var t,e=d3.select(this),i=r.apply(this,arguments),o=e.select(".tooltip").classed("in",!0),l=a.apply(this,arguments),l=(o.select(".tooltip-inner")[l?"html":"text"](i),c.apply(this,arguments)),i=e.style("position"),n=u(e.node()),s=u(o.node());switch("absolute"!==i&&"relative"!==i||(n.x=n.y=0),l){case"top":t={x:n.x+(n.w-s.w)/2,y:n.y-s.h};break;case"right":t={x:n.x+n.w,y:n.y+(n.h-s.h)/2};break;case"left":t={x:n.x-s.w,y:n.y+(n.h-s.h)/2};break;case"bottom":t={x:Math.max(0,n.x+(n.w-s.w)/2),y:n.y+n.h}}o.style(t?{left:~~t.x+"px",top:~~t.y+"px"}:{left:null,top:null}),this.tooltipVisible=!0}function p(){d3.select(this).select(".tooltip").classed("in",!1),this.tooltipVisible=!1}function h(){(this.tooltipVisible?p:s).apply(this,arguments)}return e.title=function(t){return arguments.length?(r=d3.functor(t),e):r},e.html=function(t){return arguments.length?(a=d3.functor(t),e):a},e.placement=function(t){return arguments.length?(c=d3.functor(t),e):c},e.show=function(t){t.each(s)},e.hide=function(t){t.each(p)},e.toggle=function(t){t.each(h)},e.destroy=function(t){t.on(l,null).on(n,null).attr("title",function(){return this.getAttribute("data-original-title")||this.getAttribute("title")}).attr("data-original-title",null).select(".tooltip").remove()},e}}(this);