var buttons=require("./ui/mode_buttons"),file_bar=require("./ui/file_bar"),dnd=require("./ui/dnd"),userUi=require("./ui/user"),layer_switch=require("./ui/layer_switch");function ui(s){function l(e){e=e.append("div").attr("class","container");e.append("div").attr("class","map").call(s.map).call(layer_switch(s));return s.container=e}return{read:l,write:function(e){var e=l(e),a=(t=e.append("div").attr("class","right")).append("div").attr("class","top"),t=(a.append("button").attr("class","collapse-button").attr("title","Collapse").on("click",function(){d3.select("body").classed("fullscreen",!d3.select("body").classed("fullscreen"));var e=d3.select("body").classed("fullscreen");d3.select(this).select(".icon").classed("icon-caret-up",!e).classed("icon-caret-down",e),s.map.invalidateSize()}).append("class","span").attr("class","icon icon-caret-up"),t.append("div").attr("class","pane"));a.append("div").attr("class","user fr pad1 deemphasize").call(userUi(s)),a.append("div").attr("class","buttons").call(buttons(s,t)),e.append("div").attr("class","file-bar").call(file_bar(s)),dnd(s)}}}module.exports=ui;