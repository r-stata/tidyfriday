var gist=require("../source/gist"),modal=require("./modal");function facebookUrl(e){return"https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(e)}function twitterUrl(e){return"https://twitter.com/intent/tweet?source=webclient&text="+encodeURIComponent(e)}function emailUrl(e){return"mailto:?subject="+encodeURIComponent("My Map on geojson.io")+"&body=Here's the link: "+encodeURIComponent(e)}function share(t){return function(e){gist.saveBlocks(t.data.get("map"),function(e,t){var o=modal(d3.select("div.geojsonio")),o=(o.select(".m").attr("class","modal-splash modal col6"),o.select(".content"));o.append("div").attr("class","header pad2 fillD").append("h1").text("Share"),e||!t?o.append("div").attr("class","pad2").text("Could not share: an error occurred: "+e):((e=o.append("div").attr("class","pad2")).append("input").style("width","100%").property("value","http://bl.ocks.org/d/"+t.id),e.append("p").text("URL to the full-screen map in that embed"))})}}module.exports=share;