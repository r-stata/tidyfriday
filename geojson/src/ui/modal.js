module.exports=function(t,o){var e=t.select("div.modal"),n=e.empty(),a=(e.transition().duration(200).style("opacity",0).remove(),t.append("div").attr("class","shaded").style("opacity",0)),i=(a.close=function(){a.transition().duration(200).style("opacity",0).remove(),s.transition().duration(200).style("top","0px"),i.off()},d3.keybinding("modal").on("⌫",a.close).on("⎋",a.close)),s=(d3.select(document).call(i),a.append("div").attr("class","modal fillL col6"));return a.on("click.remove-modal",function(){d3.event.target!==this||o||a.close()}),s.append("button").attr("class","close").on("click",function(){o||a.close()}).append("div").attr("class","icon close"),s.append("div").attr("class","content"),n?(a.transition().style("opacity",1),s.style("top","0px").transition().duration(200).style("top","40px")):a.style("opacity",1),a};