!function(t){"use strict";const o="http://www.w3.org/2000/svg";var A="http://www.w3.org/1999/xlink";const h={show:A,actuate:A,href:A},s=t=>"string"==typeof t||"number"==typeof t,l=t=>1===(null==t?void 0:t.vtype),a=t=>2===(null==t?void 0:t.vtype);function r(t,A){let e;if("string"==typeof t)e=1;else{if("function"!=typeof t)throw new Error("Invalid VNode type");e=2}return{vtype:e,type:t,props:A}}const e=r;function c(t){return t.children}const v={isSvg:!1};function g(t,A){(A=(A=Array.isArray(A)?A:[A]).filter(Boolean)).length&&t.append(...A)}function u(t,A,e){for(const s in A)"key"!==s&&"children"!==s&&"ref"!==s&&("dangerouslySetInnerHTML"===s?t.innerHTML=A[s].__html:"innerHTML"===s||"textContent"===s||"innerText"===s||"value"===s&&["textarea","select"].includes(t.tagName)?null!=(r=A[s])&&(t[s]=r):s.startsWith("on")?t[s.toLowerCase()]=A[s]:(r=t,i=s,n=A[s],o=e.isSvg,i=d[i]||i,!0===n?r.setAttribute(i,""):!1===n?r.removeAttribute(i):void 0!==(o=o?h[i]:void 0)?r.setAttributeNS(o,i,n):r.setAttribute(i,n)));var r,i,n,o}const d={className:"class",labelFor:"for"};function m(t,A){return Array.isArray(t)?t.map(t=>m(t,A)).reduce((t,A)=>t.concat(A),[]):R(t,A)}function R(t,e=v){if(null==t||"boolean"==typeof t)return null;if(t instanceof Node)return t;if(a(t))return{type:i,props:n}=t,i===c?(r=document.createDocumentFragment(),n.children&&g(r,m(n.children,e)),r):R(i(n),e);if(s(t))return document.createTextNode(""+t);if(l(t)){let A;var{type:r,props:i}=t;if(e.isSvg||"svg"!==r||(e=Object.assign({},e,{isSvg:!0})),u(A=e.isSvg?document.createElementNS(o,r):document.createElement(r),i,e),i.children){let t=e;e.isSvg&&"foreignObject"===r&&(t=Object.assign({},t,{isSvg:!1}));var n=m(i.children,t);null!=n&&g(A,n)}t=i["ref"];return"function"==typeof t&&t(A),A}throw new Error("mount: Invalid Vnode!")}function i(t){return R(t)}const n="mm-toolbar-item";function f({title:t,content:A,onClick:e}){return r("div",{className:n,title:t,onClick:e,children:A})}let p;const w=class w{constructor(){this.showBrand=!0,this.registry={},this.el=i(r("div",{className:"mm-toolbar"})),this.items=[...w.defaultItems],this.register({id:"zoomIn",title:"Zoom in",content:w.icon("M9 5v4h-4v2h4v4h2v-4h4v-2h-4v-4z"),onClick:this.getHandler(t=>t.rescale(1.25))}),this.register({id:"zoomOut",title:"Zoom out",content:w.icon("M5 9h10v2h-10z"),onClick:this.getHandler(t=>t.rescale(.8))}),this.register({id:"fit",title:"Fit window size",content:w.icon("M4 7h2v-2h2v4h-4zM4 13h2v2h2v-4h-4zM16 7h-2v-2h-2v4h4zM16 13h-2v2h-2v-4h4z"),onClick:this.getHandler(t=>t.fit())}),this.register({id:"recurse",title:"Toggle recursively",content:w.icon("M16 4h-12v12h12v-8h-8v4h2v-2h4v4h-8v-8h10z"),onClick:t=>{var A,t=t.target.closest("."+n),t=null==t?void 0:t.classList.toggle("active");null!=(A=this.markmap)&&A.setOptions({toggleRecursively:t})}}),this.render()}static create(t){var A=new w;return A.attach(t),A}static icon(t,A={}){return r("svg",{width:"20",height:"20",viewBox:"0 0 20 20",children:r("path",{...A={stroke:"none",fill:"currentColor","fill-rule":"evenodd",...A},d:t})})}setBrand(t){return this.showBrand=t,this.render()}register(t){this.registry[t.id]=t}getHandler(t){var A;return A=t,t=async(...t)=>{if(!p){p=A(...t);try{await p}finally{p=void 0}}},()=>{this.markmap&&t(this.markmap)}}setItems(t){return this.items=[...t],this.render()}attach(t){this.markmap=t}render(){for(var t=this.items.map(t=>{var A;return"string"==typeof t?((A=this.registry[t])||console.warn(`[markmap-toolbar] ${t} not found`),A):t}).filter(Boolean);this.el.firstChild;)this.el.firstChild.remove();return this.el.append(i(e(c,{children:[this.showBrand&&e("a",{className:"mm-toolbar-brand",href:"https://markmap.js.org/",children:[r("img",{alt:"markmap",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAACoFBMVEUAAAAAAAD//wAAAACAgAD//wAAAABVVQCqqgBAQACAQACAgABmZgBtbQAAAABgQABgYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAaFQAAAAAAAAAAAAAAAAAHAAARBQIdGAIYEwI/OgJYUQUfHQI+OgJDPgJJRARBPQRJQgRRSwRRTQRIQQRUTgRUUARZUgRSTQRPSQRjWgZORQRfWQZsZAhTTQRNRwRWUAZkXAZOSARUTgZPRwRRSQRoYwZWUQZWTgRbUwZmXQZoXghmXwdqYwdsYwdfVwVmXQdqYgdiWgVpYAl3bgl6cgl4cAqLggw8OAOWjA2Uig1OSAR2bQihlg55cAh5cAh6cQmMgwyOhAyUjA2QhQ2Uiw2Viw2soBCflA+voxGwpRGhlg+hlg+snxGroBGjmBCpnBC0pxKyphKxpRG2qhK0qBK5rBK5rBP/7h3/8B7/8R3/8h3/8R7/8h786x397B3+7R3EtxT66Rz66hz76hz86xz96xz97Bz+7Rz45xz56Bz76hz97Bz97B3MvRX15Rv25Rv45xz66Rz76hz97B3+7R3IuxX05Bv15Bv25Rz56Bz66Ry/sxPAsxPCtRTCthTNvxbZyxfczxfi0xjl1Rnn2Bnr2xrr3Brs3Rru3Rru3xrv3hrw3xrx4Bvx4Rvy4hvz4hvz4xv04xv05Bv14xv15Bv15Rv25Bv25Rv25Rz25hv35hv35xv45xv45xz55xz56Bv56Bz66Rv66Rz76Rv76Rz76hz86hv86xz+7h3/7R3/7h3/7x3/8B3/8B7/8R3/8R4Yqhj5AAAAq3RSTlMAAQECAgIDAwMEBAQFBwgICAwQERITFRYXGBkbHB0eHyQlJyguNTg8RUZISU5PV2FiY2RlZmdqa2xubnJzc3R2d3d3eXl5eXp7fH1+gIGCgoKDg4SEhIWGh4eHiYmJjIyMjZSUlJ+sra+zt7i4uru8ztHV1tbW2d7g4OHi4uPk5ufp7Ozv9fX29/f3+Pj6+vr7+/v7+/v7+/z8/Pz8/f39/f39/f3+/v7+/v7K6J1dAAACHklEQVQ4y2NgwAoYWdi5uLm5GXHIcrLCmMzYpDmAhKCKjoGtp40MFhVsDAwSxmmVEzZu2XvqSLkchjw3g0h445Ybd24vmTN1Usd5X3R5DgaNqgN35sycP2/GxMkTMRVwMOivvtO3YsWUm3duX790EcMKdgbNNXdnnJh1+9T6ipzU+FB0RzIyiFYB5WdfaElUF8TmTQ6GwH39J2bvypMHcpg4MAKKkUGo5s6KWRfyGRh4WJClGEGBCgS8DLobliy/3abMwM8NBYwQjXDgf3ryxOspyKYyg+RFTFwdnYDAzbrw+oLFm9Ot3J3AwNHFTBykQrhg++GDh48cOXzk4P6VZy8s230MyAGCwwcP7iyRBJpiur1n8hQIWHX27NkLi6bAwOSuow5ABeY7OydOhoCFIAULe6E8YFCf8QAqEC86evniZTA4tfLsuRXHr0E4ly9ePF0uC3KnpH1MZBQQxPoVgxyZ5RMdBQaRMc6yIEcihWbQGaA3k9G8CfQoN0pAtSoxCMACihk9qGtBQZ2LHtRIkRUMiqwd2TJADiswsrjQlAGju/o+MLrPNkWo8mFN1ewMWmvBCebQ0rKMJG87QzF0FRwMRuvugpLcrXu3rp7Zs61UCtMZ2nVHbk+fMX/+jMmTp3Sf9MLiULG45q237txaPG3yxPYrYQzYMo60RWbD3E27Ll68Uq+AK+uJqOlZBiSEKGLNnMA0iDfzwrI/NKgBOivk9piPdtUAAAAASUVORK5CYII="}),r("span",{children:"markmap"})]}),t.map(f)]}))),this.el}};w.defaultItems=["zoomIn","zoomOut","fit","recurse"];A=w;t.Toolbar=A,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}(this.markmap=this.markmap||{});